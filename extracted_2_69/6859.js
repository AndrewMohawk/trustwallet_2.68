try{let T=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},p=new T.Error().stack;p&&(T._sentryDebugIds=T._sentryDebugIds||{},T._sentryDebugIds[p]="06515828-82b6-4ed8-bb20-c91d9b47f5c7",T._sentryDebugIdIdentifier="sentry-dbid-06515828-82b6-4ed8-bb20-c91d9b47f5c7")}catch{}{let T=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};T.SENTRY_RELEASE={id:"2.67.0"}}(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[6859],{6859:((T,p,s)=>{s.r(p),s.d(p,{default:()=>ye});var e=s(74848),P=s(20413),D=s(17761),C=s(74576),x=s(90086),j=s(57886),g=s(31170),n=s(52114),v=s(1279),O=s(6442);const F=({status:t})=>{const{formatMessage:l}=(0,O.A)();switch(t){case"failed":return(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("div",{children:(0,e.jsx)(n.E,{testid:"tx-status",theme:v.Il.ERROR,children:l({id:"generic.failed"})})}),(0,e.jsx)("div",{className:"text-error",children:(0,e.jsx)(g.E,{width:15,height:15})})]});case"pending":return(0,e.jsx)("div",{className:"flex items-center space-x-1",children:(0,e.jsx)("div",{children:(0,e.jsx)(n.E,{testid:"tx-status",theme:v.Il.WARNING,children:l({id:"generic.pending"})})})});case"confirmed":return(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("div",{children:(0,e.jsx)(n.E,{testid:"tx-status",theme:v.Il.SUCCESS,children:l({id:"generic.confirmed"})})}),(0,e.jsx)("div",{className:"text-textBuy",children:(0,e.jsx)(j.y,{width:15,height:15})})]})}};var L=s(45452),b=s(4800),o=s(55074),r=s(48346),a=s(69254),c=s(49798),f=s(34476),K=s(5027),W=s(44657),_=s(80772),$=s(21094),ee=s(40053),N=s(96540);const se=({transaction:t,asset:l,totalTransactionFee:y,gasPrice:h})=>{var u,E,I;const{formatMessage:i}=(0,O.A)(),{isAdvancedTransactionDataEnabled:d}=(0,K.j)(),m=(0,f.m)(t.blockchain.id),{from:R,to:A,type:M,input:U,amount:B,isUnlimited:w}=(0,P.A)(t),Ee=(0,N.useMemo)(()=>(t.feeIs7702||t.solanaFlexGasRequestId!==void 0)&&t.status==="pending",[t]),V=(0,N.useMemo)(()=>{var S;return t.solanaFlexGasRequestId?t.hash:t.feeIs7702&&(S=t.initialHash)!=null?S:t.hash},[t]);return(0,e.jsxs)(b.LO,{children:[(0,e.jsx)(o.F,{label:i({id:"generic.status"}),children:(0,e.jsx)(F,{status:t.status})}),(0,e.jsx)(o.F,{label:i({id:"generic.time"}),children:(0,e.jsx)(c.X,{value:t.createdAt})}),t.nft&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.F,{label:i({id:"generic.collection"}),children:(0,e.jsx)(n.E,{children:t.nft.collectionName})}),(0,e.jsx)(o.F,{label:i({id:"generic.token"})+" ID",children:(0,e.jsx)(n.E,{children:t.nft.onChainId})})]}),(0,e.jsx)(x.q,{network:m,sender:R}),(0,e.jsx)(C.C,{recipient:A,type:M,network:(E=(u=t.destination)==null?void 0:u.blockchain)!=null?E:m}),(0,e.jsx)(o.F,{label:i({id:"generic.hash"}),children:(0,e.jsx)(r.S,{isLoading:Ee,widthClass:"w-22.5",heightClass:"h-4",children:(0,e.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,e.jsx)(n.E,{children:(0,ee.p)({value:V})}),(0,e.jsx)(L.T,{width:15,height:15,value:V})]})})}),t.memo&&(0,e.jsx)(o.F,{label:i({id:"generic.memo"}),children:(0,e.jsx)(n.E,{children:isNaN(parseInt(t.memo))?t.memo:parseInt(t.memo)})}),(parseFloat(B)>0||w)&&(0,e.jsx)(o.F,{label:i({id:"generic.amount"}),children:(0,e.jsx)(a.h,{testid:"tx-amount",value:B,amountType:$.Cu.CRYPTO,currency:t.nft?"":l.symbol,tinyThreshold:10,maxSignificantDecimals:10,isUnlimited:w})}),(0,e.jsx)(o.F,{label:i({id:"generic.network-fee"}),children:t.fee.map((S,z)=>{var k,Z,Q,q;return(0,e.jsx)(a.h,{testid:"tx-fee-"+z,value:t.feeIs7702&&(Z=(k=t.initialFee)==null?void 0:k[0])!=null?Z:S,amountType:$.Cu.CRYPTO,tinyThreshold:10,maxSignificantDecimals:10,currency:(q=(Q=t?.feeAsset)==null?void 0:Q.symbol)!=null?q:(0,_.Hy)(m,l)},z+S)})}),(0,e.jsx)(o.F,{label:i({id:"generic.network"}),children:(0,e.jsx)(n.E,{testid:"tx-network",children:(I=m.displayName)!=null?I:m.name})}),d&&(0,e.jsxs)(e.Fragment,{children:[t.nonce&&(0,e.jsx)(o.F,{label:i({id:"generic.nonce"}),children:(0,e.jsx)(n.E,{children:parseInt(t.nonce)})}),t.gasLimit&&(0,e.jsx)(o.F,{label:i({id:"generic.gas-limit"}),children:(0,e.jsx)(n.E,{children:parseInt(t.gasLimit)})}),t.gasPrice&&(0,e.jsx)(o.F,{label:i({id:"generic.gas-price"}),children:(0,e.jsxs)(n.E,{children:[h," ",m.symbol]})}),M===W.wL.Contract&&(0,e.jsx)(o.F,{label:i({id:"generic.input-data"}),children:(0,e.jsx)("div",{className:"w-2/3 bg-bg3 rounded-lg p-4 text-right overflow-auto",children:(0,e.jsx)(n.E,{children:U})})})]}),!m.isCustom&&(0,e.jsx)(D.h,{asset:l,blockchain:m,type:M,amount:t.nft?0:parseFloat(B),fee:y,feeAsset:t.feeAsset})]})};var te=s(23207),ne=s(65512),G=s(29584),Y=s(34798),le=s(80179),oe=(t,l,y)=>new Promise((h,u)=>{var E=d=>{try{i(y.next(d))}catch(m){u(m)}},I=d=>{try{i(y.throw(d))}catch(m){u(m)}},i=d=>d.done?h(d.value):Promise.resolve(d.value).then(E,I);i((y=y.apply(t,l)).next())});const ae=({transaction:t})=>{var l,y,h;const{formatMessage:u}=(0,O.A)(),E=(0,Y.K)(t.blockchain.id,t.blockchain.isCustom),{trackAnalytics:I}=(0,te.s)();if(!E.explorer)return null;const i=(l=E.explorer)!=null&&l.url.endsWith("/")?E.explorer.url:`${(y=E.explorer)==null?void 0:y.url}/`,d=(h=E.explorer)==null?void 0:h.txPath,m=d?d.startsWith("/")?d.substring(1):d:"tx/",R=(0,N.useMemo)(()=>t.feeIs7702&&t.status==="pending",[t]),A=`${i}${m}${t.hash}`;return(0,e.jsx)("div",{children:(0,e.jsx)(ne.$,{onClick:()=>oe(null,null,function*(){I({event:G.Un.BLOCKCHAIN_EXPLORER,props:{pageViewResourceType:G.Rb.EXTERNAL,explorerUrl:E.explorer.url}}),yield(0,le.kK)(A)}),loading:R,disabled:R,children:u({id:"transaction.btn-view-on-explorer"})})})};var re=s(65504),ie=s(68632),de=s(86170),ce=s(92588),ue=s(79941),he=s(15192);const me=({asset:t,transaction:l,totalTransactionFee:y})=>{var h,u,E,I;const i=(0,Y.K)(l.blockchain.id,l.blockchain.isCustom),d=(0,ce.q)(t),{currency:m,baseCurrencyType:R}=(0,de.P)(),A=l.nft,M=(0,N.useMemo)(()=>Number((0,ue.ct)(l,t)),[l,t]),U=d?.price?(0,he.A)(A?y:M).mul((h=d.price)!=null?h:0).toNumber():null;return(0,e.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,e.jsx)(re.q,{name:A?(E=(u=l.nft)==null?void 0:u.name)!=null?E:"":t.name,network:t.address?i:void 0,src:A?(I=l.nft)==null?void 0:I.previewImageURL.url:t.iconUrl,size:ie.Y.XLARGE}),M===0?null:(0,e.jsx)(a.h,{textType:v.jK.HEADER,amountType:$.Cu.CRYPTO,value:M}),U===0?null:(0,e.jsx)(a.h,{textType:v.jK.SUBTITLE,theme:v.Il.SECONDARY,amountType:R,value:U,currency:m})]})};var H=s(47767),ve=s(45871);const fe=t=>{const l=(0,ve.x)();return(0,N.useMemo)(()=>{var y,h;return(h=(y=l.find(u=>u.hash===t))!=null?y:l.find(u=>u.initialHash===t))!=null?h:l.find(u=>u.solanaFlexGasRequestId===t)},[t,l])};var xe=s(63369),X=s(28398),ge=s(83729),J=s(26858);const ye=()=>{const{id:t}=(0,H.g)();if(!t)throw new Error(`Transaction id invalid "${t}" is invalid.`);const l=fe(t);if(!l)throw new Error(`Could not find transaction with id ${t}`);const{type:y}=(0,P.A)(l),h=(0,f.m)(l.blockchain.id),u=(0,Y.K)(h.id,h.isCustom),{isAdvancedTransactionDataEnabled:E}=(0,K.j)();if(!u)throw new Error(`Could not find network with chain ID "${h.id}".`);const I=u.isCustom?(0,J.dJ)(u,l.assetId):(0,J.Mr)(l.assetId),i=(0,N.useMemo)(()=>{var A;return ge.Js((A=l.gasPrice)!=null?A:0,"ether")},[l]),d=(0,N.useMemo)(()=>{var A,M;return l.feeIs7702?Number((M=(A=l.initialFee)==null?void 0:A[0])!=null?M:l.fee[0]):l.fee.reduce((U,B)=>{var w;return parseFloat((w=String(U))!=null?w:"0")+parseFloat(B??"0")},0)+(E?parseFloat(i):0)},[l.fee,i]);if(!I)throw new Error(`Could not find asset with assetId: "${l.assetId}".`);(0,xe.K)({event:G.Un.TRANSACTION,props:{blockchainName:h.name,blockchainType:h.isCustom?X.l.CUSTOM:X.l.MAIN,blockchainChainId:h.chainId}});const{formatMessage:m}=(0,O.A)(),R=(0,H.Zp)();return(0,e.jsxs)(b.LN,{children:[(0,e.jsx)(b.zY,{backAction:()=>R(-1),title:m({id:`transaction.${y}.title`},{assetSymbol:I.symbol})}),(0,e.jsxs)(b.Gv,{children:[(0,e.jsx)(me,{transaction:l,asset:I,totalTransactionFee:d}),(0,e.jsx)(se,{transaction:l,asset:I,totalTransactionFee:d,gasPrice:i}),(0,e.jsx)(ae,{transaction:l})]})]})}}),20413:((T,p,s)=>{s.d(p,{A:()=>g});var e=s(26858),P=s(40790),D=s(96540),C=s(44657),x=s(79941),j=s(34476);const g=n=>{const v=(0,j.m)(n.blockchain.id),O=(0,P.F7)(v.coinId),F=v.isCustom?(0,e.dJ)(v,n.assetId):(0,e.Mr)(n.assetId);return(0,D.useMemo)(()=>{var L,b;const o={id:n.hash,from:n.events[0].metadata.from,to:n.events[0].metadata.to,type:n.events[0].type,status:n.status,symbol:(L=F?.symbol)!=null?L:v.symbol,fee:n.fee,date:n.createdAt,amount:(0,x.ct)(n,F)};if((0,x.fO)(n.events)){if(!O)return o.type=C.wL.Send,o.amount=Math.abs(Number(o.amount)).toString(),o;const r=O.address,{from:a,to:c}=n.events[0].metadata,f=a===r?c:a;parseFloat(o.amount)>0?(o.type=C.wL.Receive,o.from=f,o.to=r):(o.type=C.wL.Send,o.from=r,o.to=f,o.amount=Math.abs(Number(o.amount)).toString())}return(0,x.x0)(n.events)&&(o.input=n.events[0].metadata.input),(0,x.m5)(n.events)&&(o.isUnlimited=n.events[0].metadata.isUnlimited),n.nft&&(o.nft={onChainId:n.nft.onChainId,previewImage:n.nft.previewImageURL,originalImage:n.nft.originalMediaURL,name:n.nft.name,collectionName:n.nft.collectionName,collectionId:n.nft.collectionId,blockchain:{iconUrl:v.iconUrl,name:(b=v.displayName)!=null?b:v.name}}),o},[JSON.stringify(n)])}}),34476:((T,p,s)=>{s.d(p,{m:()=>C});var e=s(96540),P=s(10537),D=s(15078);function C(x){const j=(0,P.n)(),g=(0,D.I)();return(0,e.useMemo)(()=>{var n;return(n=j[x])!=null?n:g[x]},[x,j,g])}}),45871:((T,p,s)=>{s.d(p,{x:()=>D});var e=s(68157),P=s(96540);const D=()=>{var C;const x=(C=(0,e.GV)(j=>{var g;return(g=j.tx.itemsPerWalletAccount[j.wallet.walletId])==null?void 0:g[j.wallet.selectedAccountId]}))!=null?C:[];return(0,P.useMemo)(()=>(x.sort((j,g)=>g.createdAt-j.createdAt),x),[x])}}),49798:((T,p,s)=>{s.d(p,{X:()=>o});var e=s(74848),P=s(52114),D=s(72267),C=Object.defineProperty,x=Object.defineProperties,j=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(r,a,c)=>a in r?C(r,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[a]=c,F=(r,a)=>{for(var c in a||(a={}))n.call(a,c)&&O(r,c,a[c]);if(g)for(var c of g(a))v.call(a,c)&&O(r,c,a[c]);return r},L=(r,a)=>x(r,j(a)),b=(r,a)=>{var c={};for(var f in r)n.call(r,f)&&a.indexOf(f)<0&&(c[f]=r[f]);if(r!=null&&g)for(var f of g(r))a.indexOf(f)<0&&v.call(r,f)&&(c[f]=r[f]);return c};const o=r=>{var a=r,{value:c,inline:f=!1}=a,K=b(a,["value","inline"]);const W=(0,e.jsx)(D.XU,{value:c,month:"short",day:"2-digit",hourCycle:"h23",hour:"numeric",minute:"2-digit",year:"numeric"});return f?W:(0,e.jsx)(P.E,L(F({},K),{children:W}))}})}]);

//# sourceMappingURL=6859.js.map