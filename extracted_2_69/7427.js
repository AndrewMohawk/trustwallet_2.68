try{let H=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},w=new H.Error().stack;w&&(H._sentryDebugIds=H._sentryDebugIds||{},H._sentryDebugIds[w]="ab1f1588-d338-4229-825a-1986bdf15886",H._sentryDebugIdIdentifier="sentry-dbid-ab1f1588-d338-4229-825a-1986bdf15886")}catch{}{let H=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};H.SENTRY_RELEASE={id:"2.67.0"}}(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[7427],{2472:((H,w,l)=>{l.d(w,{i:()=>F});var e=l(74848),S=l(48346);const F=({length:I,isLoading:Z,widthClass:W="w-20",heightClass:q="h-4",horizontal:ae=!1,fullWidth:z=!1})=>Z?(0,e.jsx)("div",{className:`flex ${ae?"flex-row":"flex-col"} gap-2`,children:[...Array(I)].map((x,pe)=>(0,e.jsx)(S.S,{isLoading:!0,widthClass:W,heightClass:q,fullWidth:z},"skeleton-line-list-"+pe))}):null}),13772:((H,w,l)=>{l.d(w,{v:()=>e});var e=(S=>(S.INITIATE="initiate",S.UPDATE="update",S.CLOSE="close",S.SET_CURRENT_WALLET="set-current-wallet",S))(e||{})}),15972:((H,w,l)=>{l.d(w,{Y:()=>e});var e=(S=>(S.INITIATE="initiate",S.CLOSE="close",S))(e||{})}),23384:((H,w,l)=>{l.d(w,{A:()=>F});var e=l(24439);const F={FETCH_TOKENS_AVAILABLE_TO_BUY:(0,e.If)("FetchTokensAvailableToBuy"),FETCH_TOKENS_AVAILABLE_TO_SELL:(0,e.If)("FetchTokensAvailableToSell"),GET_BUY_CRYPTO_ASSETS:(0,e.If)("GetBuyCryptoAssets"),GET_BUY_PROVIDER_ROUTES:(0,e.If)("GetBuyProviderRoutes"),BUY_CRYPTO_QUOTE:(0,e.If)("BuyCryptoQuote"),BUY_CRYPTO:(0,e.If)("BuyCrypto"),SELL_CRYPTO_QUOTE:(0,e.If)("SellCryptoQuote"),SELL_CRYPTO:(0,e.If)("SellCrypto"),ONE_CLICK_BUY_CRYPTO_CONFIG:(0,e.If)("OneClickBuyCryptoConfig"),BUY_CRYPTO_WIDGET_QUOTE:(0,e.If)("BuyCryptoWidgetQuote"),GET_P2P_BUY_CRYPTO_CONFIG:(0,e.If)("GetP2PBuyCryptoConfig"),GET_P2P_BUY_CRYPTO_QUOTES:(0,e.If)("GetP2PBuyCryptoQuotes"),GET_P2P_BUY_CRYPTO_CHECKOUT:(0,e.If)("GetP2PBuyCryptoCheckout")}}),31902:((H,w,l)=>{l.d(w,{P:()=>S});var e=l(79960);function S(F){var I;return((I=(0,e.t)()[F])==null?void 0:I.transferable)||"0"}}),44199:((H,w,l)=>{l.d(w,{X:()=>F});var e=l(96540);function S(){const I=document.documentElement,Z=parseInt(I.style.width,10)||0,W=parseInt(I.style.height,10)||0;return{width:Z,height:W}}const F=()=>{const[I,Z]=(0,e.useState)(()=>{const{width:W,height:q}=S();return window.innerWidth===W&&window.innerHeight===q});return(0,e.useEffect)(()=>{const W=()=>{const{width:q,height:ae}=S();Z(window.innerWidth===q&&window.innerHeight===ae)};return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]),I}}),72267:((H,w,l)=>{l.d(w,{XU:()=>a});var e=l(31635),S=l(96540),F=l(6442),I;(function(C){C.formatDate="FormattedDate",C.formatTime="FormattedTime",C.formatNumber="FormattedNumber",C.formatList="FormattedList",C.formatDisplayName="FormattedDisplayName"})(I||(I={}));var Z;(function(C){C.formatDate="FormattedDateParts",C.formatTime="FormattedTimeParts",C.formatNumber="FormattedNumberParts",C.formatList="FormattedListParts"})(Z||(Z={}));var W=function(C){var X=(0,F.A)(),V=C.value,J=C.children,k=(0,e.Tt)(C,["value","children"]);return J(X.formatNumberToParts(V,k))};W.displayName="FormattedNumberParts";var q=function(C){var X=useIntl(),V=C.value,J=C.children,k=__rest(C,["value","children"]);return J(X.formatListToParts(V,k))};W.displayName="FormattedNumberParts";function ae(C){var X=function(V){var J=(0,F.A)(),k=V.value,ue=V.children,Y=(0,e.Tt)(V,["value","children"]),ne=typeof k=="string"?new Date(k||0):k,he=C==="formatDate"?J.formatDateToParts(ne,Y):J.formatTimeToParts(ne,Y);return ue(he)};return X.displayName=Z[C],X}function z(C){var X=function(V){var J=(0,F.A)(),k=V.value,ue=V.children,Y=(0,e.Tt)(V,["value","children"]),ne=J[C](k,Y);if(typeof ue=="function")return ue(ne);var he=J.textComponent||S.Fragment;return S.createElement(he,null,ne)};return X.displayName=I[C],X}function x(C){return C}function pe(C){return C}var a=z("formatDate"),f=z("formatTime"),ie=z("formatNumber"),Se=z("formatList"),Te=z("formatDisplayName"),we=ae("formatDate"),Ke=ae("formatTime")}),84206:((H,w,l)=>{l.d(w,{t:()=>e});const e={name:"onramp-revamp",default:!1}}),87427:((H,w,l)=>{l.r(w),l.d(w,{default:()=>Hn});var e=l(74848),S=l(16611),F=l(29584),I=l(26264),Z=l(63369),W=l(44199),q=l(42763),ae=l(60380),z=l(63111),x=l(96540),pe=l(90275),a=l(1279),f=l(52114),ie=l(11377);const Se=[ie.J.ripple],Te=[ie.J.ripple],we=t=>!t.address?!1:Se.includes(t.blockchainId)&&t.isRegistered===void 0?!0:t.isRegistered===!1,Ke=({coinStatus:t,asset:s})=>{const n=we(s),r=(0,x.useCallback)(o=>{var u,i;return(o.metadata.enabled||o.metadata.enabled===void 0)&&o.targets.extension_enabled&&(0,pe.zN)((0,pe.W9)(),(u=o.targets.extension_version_from)!=null?u:null,(i=o.targets.extension_version_to)!=null?i:null)&&!(s.blockchainId==="ripple"&&s.address&&o.metadata.description==="Enable this token to start using it."&&!n)&&!(s.blockchainId==="aptos"&&!n)},[t,n]),c=o=>{switch(o){case"error":return z.Z.ERROR;case"warning":return z.Z.WARNING;case"ok":return z.Z.DEFAULT;default:return z.Z.WARNING}},d=(0,x.useMemo)(()=>!!t?.messages.some(r),[t]);return!t||!d?null:(0,e.jsx)("div",{className:"flex space-y-2 flex-col",children:t.messages.map(o=>{var u;return r(o)?(0,e.jsxs)(ae.F,{theme:c(o.metadata.type),children:[(0,e.jsx)("pre",{className:"font-brand caption-text text-utility-1-default whitespace-pre-wrap",children:o.metadata.description}),o.metadata.link&&o.metadata.link.url&&(0,e.jsx)("div",{className:"inline-block",children:(0,e.jsx)(f.E,{theme:a.Il.UTILITY_1_DEFAULT,weight:a.nG.MEDIUM,children:(0,e.jsx)("a",{target:"_blank",rel:"noopener nofollow noreferrer",href:(u=o.metadata.link)==null?void 0:u.url,children:"Learn More"})})})]},o.id):null})})};var C=l(94893);const X=22,V=22,J=({width:t,height:s,colorClass:n})=>(0,e.jsxs)("svg",{className:n,width:t??X,height:s??V,viewBox:`0 0 ${X} ${V}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("path",{d:"M18.5401 2.44997C18.0701 2.44997 17.6801 2.83997 17.6801 3.30997C17.6801 3.77997 18.0701 4.17997 18.5401 4.17997C19.0101 4.17997 19.4101 4.56997 19.4101 5.03997V5.46997H18.5401C18.0701 5.46997 17.6801 5.85997 17.6801 6.32997V8.48997C17.6801 8.96997 18.0701 9.35997 18.5401 9.35997H19.4101V14.32C19.4101 14.67 19.1201 14.96 18.7601 14.96C18.4001 14.96 18.1101 14.67 18.1101 14.32V12.59C18.1101 11.28 17.0501 10.22 15.7401 10.22H15.6101V4.17997C15.6101 2.13997 13.9501 0.469971 11.9101 0.469971H6.30012C4.26012 0.469971 2.60012 2.13997 2.60012 4.17997V17.3H1.98012C1.37012 17.3 0.870117 17.8 0.870117 18.42C0.870117 19.04 1.37012 19.53 1.98012 19.53H16.2201C16.8401 19.53 17.3401 19.03 17.3401 18.42C17.3401 17.81 16.8401 17.3 16.2201 17.3H15.6101V11.94H15.7401C16.1001 11.94 16.3901 12.23 16.3901 12.59V14.32C16.3901 15.63 17.4501 16.69 18.7601 16.69C20.0701 16.69 21.1301 15.63 21.1301 14.32V5.03997C21.1301 3.60997 19.9701 2.44997 18.5401 2.44997ZM13.3801 17.3H4.82012V4.17997C4.82012 3.35997 5.48012 2.69997 6.30012 2.69997H11.9101C12.7201 2.69997 13.3801 3.35997 13.3801 4.17997V17.3Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M11.0901 4.54993H7.1101C6.8301 4.54993 6.6001 4.75993 6.6001 5.02993V8.39993C6.6001 8.47993 6.6701 8.54993 6.7501 8.54993H11.4501C11.5301 8.54993 11.6001 8.47993 11.6001 8.39993V5.02993C11.6001 4.75993 11.3701 4.54993 11.0901 4.54993Z",fill:"currentColor"})]});var k=l(47767);const ue=({color:t,cost:s,assetId:n})=>{const r=(0,k.Zp)();return(0,e.jsx)("div",{className:"flex w-full",children:s&&(0,e.jsx)(C.c,{onClick:()=>r(`${I.b.GAS_STATION}/${n}`),children:(0,e.jsxs)("div",{className:"flex space-x-1 items-start",children:[(0,e.jsx)(J,{width:20,height:20,colorClass:t}),(0,e.jsx)(f.E,{children:s})]})})})};var Y=l(64145),ne=l(14948),he=l(15972),wt=l(59754),Le=l(68157),Re=l(86170);function Lt(t){const[s,n]=(0,x.useState)(""),[r,c]=(0,x.useState)(""),[d,o]=(0,x.useState)("text-iconNormal"),u=(0,Le.GV)(y=>y.sdkFeatures.gasStatus),{currency:i}=(0,Re.P)();(0,x.useEffect)(()=>{t&&Y.YW.emit(ne.A.GAS_STATUS,{action:he.Y.INITIATE,params:{assetId:t,currency:i}})},[t]),(0,x.useEffect)(()=>{var y,v,T;if(u?.isSuccess)switch(n(((y=u?.data)==null?void 0:y.cost)||""),c(((v=u?.data)==null?void 0:v.status)||""),(T=u?.data)==null?void 0:T.status){case"Low":o("text-primary");break;case"Medium":o("text-iconNormal");break;case"High":o("text-error");break}},[u]);function m(){Y.YW.emit(ne.A.GAS_STATUS,{action:he.Y.CLOSE})}return(0,wt.A)(m),(0,x.useMemo)(()=>({gasCost:s,gasStatus:r,gasStatusColor:d}),[s,r,d])}var Ve=l(22670),Rt=l(48305),Me=l(33055),Mt=l(9389),Pt=l(48268),ge=l(47909);const Dt=()=>(0,e.jsxs)(Pt.B,{children:[(0,e.jsx)(f.E,{type:a.jK.TITLE,children:"Investment risks"}),(0,e.jsxs)("div",{children:[(0,e.jsx)(f.E,{type:a.jK.SUBTITLE,children:"Baseline risk"}),(0,e.jsxs)(f.E,{type:a.jK.SUBTITLE,theme:a.Il.THIRD,children:["All crypto-assets are risky, regardless of the type of token you hold. Here are some \u2018baseline\u2019 risks to be aware of before deciding to invest.",(0,e.jsx)(ge.c,{children:"Investment risk: the performance of most-crypto assets can be highly volatile, with their value dropping as quickly as it can rise. You should be prepared to lose all the money you invest in crypto-assets."})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(f.E,{type:a.jK.SUBTITLE,children:"Staked assets"}),(0,e.jsxs)(f.E,{type:a.jK.SUBTITLE,theme:a.Il.THIRD,children:[(0,e.jsx)(ge.c,{children:"Slashing risk: By electing to stake your assets, you risk potential loss if the network penalizes your validator for malfeasance, whether intentional or due to software issues. Some staking service providers will reimburse slashing losses when the validator operator is at fault."}),(0,e.jsxs)(ge.c,{children:["Liquidity risk: Some protocols require staked assets to be locked for a period or time, which can prevent you from accessing or selling your assets quickly. You can find further information on staking lock-up periods"," ",(0,e.jsx)("a",{className:"underline",href:"https://trustwallet.com/staking-risks",target:"_blank",rel:"noopener nofollow noreferrer",children:"here."})]}),(0,e.jsxs)(ge.c,{children:["APY not guaranteed: The yield or reward rate you get from staking your assets is determined by the relevant protocol and is not guaranteed and may vary over time. You can find more information on how our staking APYs are calculated"," ",(0,e.jsx)("a",{className:"underline",href:"https://trustwallet.com/earn-rewards-with-staking",target:"_blank",rel:"noopener nofollow noreferrer",children:"here."})]}),(0,e.jsx)(ge.c,{children:"Protocol risks: Staking protocols are often continually evolving. Changes or updates to the consensus mechanism can introduce new vulnerabilities or unforeseen outcomes."})]})]})]});var Ot=l(28898),Bt=l(10551),G=l(51335),ee=l(51848),O=l(69254),Pe=l(97286),De=l(89408);const Ht=t=>{const{data:s,isError:n,isFetching:r,isPending:c}=(0,Pe.I)({queryKey:["asset-chart",t.assetId,t.period],queryFn:()=>Y.YW.emit(De.A.FETCH_ASSET_CHART,t),refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,staleTime:6e5,gcTime:36e5});return{data:s,isError:n,isFetching:r,isLoading:c}},$e=["hour","day","week","month","year","all"];var Ut=l(15314),K=l(21094),me=l(66118),Ft=l(44731),B=l(6442),kt=l(72267),Yt=Object.defineProperty,We=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Ge=(t,s,n)=>s in t?Yt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,$t=(t,s)=>{for(var n in s||(s={}))Kt.call(s,n)&&Ge(t,n,s[n]);if(We)for(var n of We(s))Vt.call(s,n)&&Ge(t,n,s[n]);return t};me.t1.register(me.PP,me.ZT,me.No,me.kc,me.FN);const Wt={aspectRatio:3,plugins:{legend:{display:!1},title:{display:!0},tooltip:{enabled:!1}},interaction:{mode:"index",intersect:!1},scales:{x:{display:!1},y:{display:!1}}},Ze=(t,s)=>t>0?(s-t)/t*100:s*100,Gt=({assetId:t,hideRiskSection:s})=>{const{formatMessage:n}=(0,B.A)(),{theme:r}=(0,Ot.h)(),c=(0,q.V)(t),{currency:d,baseCurrencyType:o}=(0,Re.P)(),[u,i]=(0,x.useState)(null),[m,y]=(0,x.useState)(c?5:1),{data:v,isLoading:T}=Ht({assetId:t,period:$e[m],currency:d}),{price:p,change:g,percentChange:h,timestamp:A}=(0,x.useMemo)(()=>{if(v?.prices&&v.prices.length>0){if(u===null)return{price:v.prices[v.prices.length-1].price,percentChange:Ze(v.prices[0].price,v.prices[v.prices.length-1].price),change:v.prices[v.prices.length-1].price-v.prices[0].price,timestamp:null};const E=new Date(0);return E.setUTCSeconds(v.prices[u.index].date),{price:v.prices[u.index].price,percentChange:Ze(v.prices[0].price,v.prices[u.index].price),change:v.prices[u.index].price-v.prices[0].price,timestamp:E}}return{price:null,change:null,percentChange:null,timestamp:null}},[v?.prices,u]),P=(0,x.useMemo)(()=>{if(!v?.prices)return null;const E=v.prices.map(D=>D.price);return{labels:E,datasets:[{data:E,backgroundColor:r===Ut.W.LIGHT?"white":"black",borderColor:(h??0)<0?"#E33B54":"#03A66D",borderWidth:2,borderJoinStyle:"round",pointStyle:!1}]}},[v?.prices,h]),L=(0,x.useMemo)(()=>({hour:n({id:"asset.chart.period-1h",defaultMessage:"1H"}),day:n({id:"asset.chart.period-1d",defaultMessage:"1D"}),week:n({id:"asset.chart.period-1w",defaultMessage:"1W"}),month:n({id:"asset.chart.period-1m",defaultMessage:"1M"}),year:n({id:"asset.chart.period-1y",defaultMessage:"1Y"}),all:n({id:"asset.chart.period-all",defaultMessage:"All"})}),[n]),U=(0,x.useMemo)(()=>[{id:"intersect-x-line",afterDraw:E=>{if(E.getActiveElements().length){const D=E.data.datasets[0].borderColor,se=E.data.datasets[0].backgroundColor,N=E.getActiveElements()[0];i(N);const j=E.chartArea,b=E.ctx;b.save(),b.beginPath(),b.moveTo(N.element.x,j.top),b.lineTo(N.element.x,j.bottom),b.lineWidth=1,b.setLineDash([3,3]),b.strokeStyle=D,b.stroke(),b.restore(),b.beginPath(),b.arc(N.element.x,N.element.y,5,0,2*Math.PI),b.fillStyle=D,b.fill(),b.lineWidth=2,b.strokeStyle=se,b.stroke(),b.restore();return}i(null)}}],[]);return(0,e.jsxs)("div",{className:"w-full",children:[(0,e.jsxs)("div",{className:"flex flex-col items-center space-y-0.5",children:[(0,e.jsx)(G.E,{isLoading:T,className:"w-24",children:(0,e.jsx)(O.h,{testid:"asset-fiat-price",textType:a.jK.HEADER_32,amountType:o,value:p??0,currency:d,maxSignificantDecimals:p&&p<.01?10:void 0,tinyThreshold:p&&p<.01?10:void 0})}),(0,e.jsx)(G.E,{isLoading:T,className:"w-12",children:(0,e.jsxs)("div",{className:"flex flex-col items-center space-x-1",children:[(0,e.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,e.jsx)(Bt.b,{width:16,height:16,colorClass:(g??0)<0?"text-error-1-default":"text-success-1-default rotate-180"}),(0,e.jsx)(O.h,{testid:"asset-fiat-amount-change",textType:a.jK.SUBHEADER_16,amountType:o,currency:d,theme:(g??0)<0?a.Il.ERROR:a.Il.SUCCESS,value:g??0}),(0,e.jsx)(O.h,{testid:"asset-fiat-percentage-change",textType:a.jK.SUBHEADER_16,prefix:"(",suffix:")",amountType:K.Cu.PERCENT,theme:(h??0)<0?a.Il.ERROR:a.Il.SUCCESS,value:h??0})]}),(0,e.jsx)("div",{className:"h-4",children:A&&(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,theme:a.Il.THIRD,children:(0,e.jsx)(kt.XU,$t({value:A,hourCycle:"h23",hour:"numeric",minute:"2-digit"},m>1&&{day:"2-digit",month:"short",year:"numeric"}))})})]})})]}),(0,e.jsx)(G.E,{isLoading:T,className:"w-full",children:(0,e.jsx)("div",{className:"my-5 w-full aspect-[3/1]",children:!!P&&(0,e.jsx)(Ft.N1,{options:Wt,data:P,plugins:U})})}),(0,e.jsx)(ee.fu,{as:x.Fragment,onChange:E=>y(E),selectedIndex:m,children:(0,e.jsx)(ee.wb,{className:"flex space-x-0.5 justify-center",children:$e.map(E=>(0,e.jsx)(ee.oz,{className:"px-2 outline-none flex flex-col items-center",children:({selected:D})=>(0,e.jsx)("div",{"data-selected":D,className:"flex items-center justify-center p-2 rounded data-[selected='true']:bg-bg3",children:(0,e.jsx)(f.E,{type:a.jK.CAPTION,weight:a.nG.MEDIUM,children:L[E]})})},E))})}),c&&!s&&(0,e.jsx)(Dt,{})]})};var Zt=l(89247);const zt=()=>(0,e.jsxs)(f.E,{type:a.jK.CAPTION,theme:a.Il.PRIMARY,children:["Past performance is not a reliable indicator of future results.",(0,e.jsxs)("p",{children:["Data source is from CoinMarketCap.\xA0",(0,e.jsx)("a",{className:"underline",href:"https://trustwallet.com/terms-of-service",target:"_blank",rel:"noopener nofollow noreferrer",children:"Learn more about risks."})]})]});var Xt=Object.defineProperty,Qt=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,ze=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,Xe=(t,s,n)=>s in t?Xt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,es=(t,s)=>{for(var n in s||(s={}))_t.call(s,n)&&Xe(t,n,s[n]);if(ze)for(var n of ze(s))qt.call(s,n)&&Xe(t,n,s[n]);return t},ts=(t,s)=>Qt(t,Jt(s)),ss=(t,s,n)=>new Promise((r,c)=>{var d=i=>{try{u(n.next(i))}catch(m){c(m)}},o=i=>{try{u(n.throw(i))}catch(m){c(m)}},u=i=>i.done?r(i.value):Promise.resolve(i.value).then(d,o);u((n=n.apply(t,s)).next())});const ns=({asset:t,coinStatus:s})=>{const n=(0,Me.v)(),r=(0,Mt.Cb)();(0,x.useEffect)(()=>{ss(null,null,function*(){const[i]=yield Promise.all([Y.YW.emit(Ve.A.FETCH_BALANCE,{blockchainId:t.blockchainId,decimals:t.decimals,address:t.address}),Y.YW.emit(Ve.A.FETCH_STAKING_LIST)]);Le.M_.dispatch(Rt.u.actions.setBalances({walletId:n,balances:[ts(es({},i),{assetId:t.assetId})],accountId:r}))})},[]);const{gasCost:c,gasStatusColor:d}=Lt(t.assetId),o=(0,q.V)(t.assetId);return(0,e.jsxs)("div",{className:"flex flex-col items-center",children:[(0,e.jsx)(Ke,{coinStatus:s,asset:t}),o&&(0,e.jsx)(zt,{}),(0,e.jsx)("div",{className:"flex py-2 w-full",children:(0,e.jsx)(ue,{cost:c,color:d,assetId:t.assetId})}),(0,e.jsx)(Gt,{assetId:t.assetId,hideRiskSection:!0}),(0,e.jsx)(Zt.h,{y:"4"})]})};var as=l(62266),ls=l(69325),fe=l(4800),rs=l(26858),is=l(67658),Oe=l(40790),os=l(67310),Qe=l(84118),cs=l(85266);const ds=t=>{const{formatMessage:s}=(0,B.A)();return Te.includes(t)?s({id:"generic.enable",defaultMessage:"Enable"}):s({id:"generic.register",defaultMessage:"Register"})};var us=l(36322),hs=l(93077),ms=l(39584),fs=l(69666),xs=l(96159),vs=l(64264),ys=l(84206),Je=l(21612),ps=l(3280),Ce=l(96471);const _e=t=>{switch(t.blockchainId){case ie.J.ripple:return t.address?{coinActivationFee:"1",tokenActivationFee:"0.2"}:null;default:return null}};var Be=l(42463),te=l(65512),He=l(22146),gs=l(47991);const Cs=t=>{const s=(0,gs.P)();if(!Se.includes(t))return!1;const n=s.find(r=>r.blockchainId===t);return n?n.isRegistered===void 0?!0:n.isRegistered===!1:!1};var js=l(80772);const Es=({asset:t,network:s,opened:n,onClose:r,onConfirm:c})=>{const{formatMessage:d}=(0,B.A)(),o=_e(t),u=Cs(t.blockchainId),i=(0,js.Hy)(s,t),m=o?.coinActivationFee,y=o?.tokenActivationFee;return o?(0,e.jsx)(He.a,{opened:n,onClose:r,children:(0,e.jsxs)("div",{className:"flex flex-col space-y-7",children:[(0,e.jsx)("div",{className:"flex justify-center",children:(0,e.jsx)(Be.I,{})}),(0,e.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)(f.E,{type:a.jK.HEADER,children:d({id:"asset.reserve-fee-modal.header-1",defaultMessage:"Asset Activation Required"})})}),(0,e.jsx)(f.E,{theme:a.Il.THIRD,weight:a.nG.NORMAL,children:d({id:"asset.reserve-fee-modal.disclaimer",defaultMessage:`To start using ${i} network you need to add a reserve or ${m} ${i} and ${y} ${i} for each token you enable.`},{coinReserve:m,tokenReserve:y,assetSymbol:i})}),u&&(0,e.jsxs)("div",{children:[(0,e.jsx)(f.E,{type:a.jK.SUBTITLE,children:d({id:"asset.reserve-fee-modal.coin-reserve-header",defaultMessage:`${m} ${i} Reserve`},{coinActivationFee:m,assetSymbol:i})}),(0,e.jsx)(f.E,{theme:a.Il.THIRD,weight:a.nG.NORMAL,children:d({id:"asset.reserve-fee-modal.coin-disclaimer",defaultMessage:`To start using the ${i} network requires ${m} ${i} reserve to activate your account.`},{assetSymbol:i,coinReserve:m})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(f.E,{type:a.jK.SUBTITLE,children:d({id:"asset.reserve-fee-modal.token-reserve-header",defaultMessage:`${y} ${i} Reserve`},{tokenActivationFee:y,assetSymbol:i})}),(0,e.jsx)(f.E,{theme:a.Il.THIRD,weight:a.nG.NORMAL,children:d({id:"asset.reserve-fee-modal.token-disclaimer",defaultMessage:`To enable a token on the ${i} network requires ${y} ${i} reserver to set-up a TrustLine.`},{assetSymbol:i,tokenReserve:y})})]})]}),(0,e.jsx)("div",{className:"flex flex-col space-y-5",children:(0,e.jsx)(te.$,{testid:"inscriptions-modal-confirm-btn",onClick:c,children:d({id:"asset.reserve-fee-modal.cta",defaultMessage:"Proceed with activation"})})})]})}):null};var qe=l(44657),xe=l(55515),Ts=l(54290);const et=24,tt=24,Is=({width:t,height:s,colorClass:n})=>(0,e.jsxs)("svg",{className:n,fill:"none",width:t??et,height:s??tt,viewBox:`0 0 ${et} ${tt}`,xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsxs)("g",{clipPath:"url(#clip0_14006_7877)",children:[(0,e.jsx)("path",{d:"M8.77002 23.31C7.39002 23.31 6.27002 22.19 6.27002 20.81C6.27002 19.43 7.39002 18.31 8.77002 18.31C10.15 18.31 11.27 19.43 11.27 20.81C11.27 22.19 10.15 23.31 8.77002 23.31ZM8.77002 20.06C8.36002 20.06 8.02002 20.4 8.02002 20.81C8.02002 21.22 8.36002 21.56 8.77002 21.56C9.18002 21.56 9.52002 21.22 9.52002 20.81C9.52002 20.4 9.18002 20.06 8.77002 20.06Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M17.77 23.31C16.39 23.31 15.27 22.19 15.27 20.81C15.27 19.43 16.39 18.31 17.77 18.31C19.15 18.31 20.27 19.43 20.27 20.81C20.27 22.19 19.15 23.31 17.77 23.31ZM17.77 20.06C17.36 20.06 17.02 20.4 17.02 20.81C17.02 21.22 17.36 21.56 17.77 21.56C18.18 21.56 18.52 21.22 18.52 20.81C18.52 20.4 18.18 20.06 17.77 20.06Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M12.4898 13.5C12.2398 13.5 11.9998 13.41 11.8098 13.23L9.77981 11.36C9.36981 10.99 9.34981 10.35 9.71981 9.94998C10.0998 9.54998 10.7298 9.51998 11.1298 9.88998L12.3798 11.04L15.2898 7.48998C15.6398 7.05998 16.2698 6.99998 16.6998 7.34998C17.1298 7.69998 17.1898 8.32998 16.8398 8.75998L13.2498 13.13C13.0798 13.34 12.8198 13.47 12.5498 13.49C12.5298 13.49 12.4998 13.49 12.4798 13.49L12.4898 13.5Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M21.0602 3.81H5.48018C5.39018 3.81 5.30018 3.83 5.21018 3.84L4.76018 1.59C4.65018 1.06 4.19018 0.710002 3.66018 0.710002C3.63018 0.710002 3.61018 0.690002 3.57018 0.690002H2.05018C1.43018 0.690002 0.930176 1.19 0.930176 1.81C0.930176 2.43 1.43018 2.93 2.05018 2.93H2.73018L4.48018 11.67L5.08018 15.13C5.18018 16.08 6.04018 16.8 7.07018 16.8H19.4502C20.4802 16.8 21.3402 16.08 21.4402 15.13L23.0402 5.84C23.1602 4.75 22.2302 3.8 21.0502 3.8L21.0602 3.81ZM19.2702 14.56H7.37018L6.71018 11.26L5.81018 6.06H20.7302L19.2702 14.56Z",fill:"currentColor"})]}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_14006_7877",children:(0,e.jsx)("rect",{width:"24",height:"24",fill:"currentColor"})})})]});var As=l(65828),$=l(52619),Ns=l(11717),bs=l(38921),st=(t,s,n)=>new Promise((r,c)=>{var d=i=>{try{u(n.next(i))}catch(m){c(m)}},o=i=>{try{u(n.throw(i))}catch(m){c(m)}},u=i=>i.done?r(i.value):Promise.resolve(i.value).then(d,o);u((n=n.apply(t,s)).next())});const Ss=({asset:t,isTokenRequiringRegistration:s,blockchain:n})=>{const r=(0,k.Zp)(),{formatMessage:c}=(0,B.A)(),d=(0,Je.s)(),{setNavigationOrigin:o}=(0,cs.o)(),u=(0,ps.p)(),{enabled:i}=(0,Qe.x)(vs.N),{enabled:m}=(0,Qe.x)(ys.t),y=(0,us.f)(t.assetId),v=ds(t.blockchainId),T=(0,As.Z)(t.assetId),p=_e(t),[g,h]=(0,x.useState)(!1),A=t.isBuyCryptoEnabled&&!y,P=t.isSellCryptoEnabled&&!y,L=(0,Ns.w)(t.assetId),U=(0,bs.G)(t),E=!A||!P,D=t.type===Ce.S.BRC20,se=parseFloat(T)>0,N=()=>{r(`${I.b.SEND}/${t.assetId}${D?"/inscriptions":""}`)},j=()=>st(null,null,function*(){m?r(I.b.BUY_NEW,{state:{assetId:t.assetId}}):yield d(`${I.b.BUY}/${t.assetId}`)}),b=()=>st(null,null,function*(){i?r(I.b.SELL_NEW,{state:{assetId:t.assetId}}):yield d(`${I.b.SELL}/${t.assetId}`)}),Ee=()=>{o(`${I.b.ASSET}/${t.assetId}`),r(`${I.b.RECEIVE}/${t.assetId}`)},oe=()=>{r(U,{state:{pageViewSource:F.Un.ASSET}})},ce=()=>{p?h(!0):Ne()},Ne=()=>{const R=Te.includes(t.blockchainId)?qe.wL.TrustLine:qe.wL.RegisterToken;r(`${I.b.SEND_CONFIRM}`,{state:{asset:t,network:n,amount:"0",type:R}})},de=!se&&A;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{"data-testid":"asset-page-footer",className:"relative -mx-2 -mb-2 p-2 pb-0 flex",children:[(0,e.jsxs)("div",{className:`w-full flex items-center ${E?"justify-center space-x-6":"justify-between px-5"}`,children:[(0,e.jsx)(xe.a,{testid:"asset-send-btn",text:c({id:"generic.send"}),icon:(0,e.jsx)(Ts.s,{colorClass:"text-utility-1-opacity-1"}),disabled:s,onClick:N}),(0,e.jsx)(xe.a,{testid:"asset-receive-btn",text:c({id:"generic.receive"}),icon:(0,e.jsx)(hs.Z,{colorClass:"text-utility-1-opacity-1"}),onClick:Ee,disabled:s}),s&&(0,e.jsx)(xe.a,{testid:"asset-register-btn",text:v,icon:(0,e.jsx)(fs.c,{colorClass:"text-textPrimary"}),onClick:ce}),L&&(0,e.jsx)(xe.a,{testid:"asset-swap-btn",text:c({id:"generic.swap",defaultMessage:"Swap"}),icon:(0,e.jsx)(xs.f,{colorClass:de?"text-utility-1-opacity-1":"text-textOnPrimary"}),disabled:s||u,theme:de?$.ry.SECONDARY:$.ry.BRAND,onClick:oe}),A&&(0,e.jsx)(xe.a,{testid:"asset-buy-btn",text:c({id:"generic.buy"}),icon:(0,e.jsx)(Is,{colorClass:de?"text-textOnPrimary":"text-utility-1-opacity-1"}),disabled:s,theme:de?$.ry.BRAND:$.ry.SECONDARY,onClick:j}),P&&(0,e.jsx)(xe.a,{testid:"asset-sell-btn",text:c({id:"generic.sell"}),icon:(0,e.jsx)(ms.M,{colorClass:"text-utility-1-opacity-1"}),disabled:s,onClick:b})]}),(0,e.jsx)(Es,{asset:t,network:n,opened:g,onClose:()=>{h(!1)},onConfirm:Ne})]})})};var Ie=l(98939);const ws=({opened:t,onClose:s})=>{const{formatMessage:n}=(0,B.A)();return(0,e.jsx)(He.a,{opened:t,onClose:s,children:(0,e.jsxs)("div",{className:"flex flex-col space-y-7",children:[(0,e.jsx)("div",{className:"flex justify-center",children:(0,e.jsx)(Be.I,{})}),(0,e.jsxs)("div",{className:"flex flex-col space-y-3 text-center",children:[(0,e.jsx)(f.E,{type:a.jK.HEADER,children:n({id:"generic.inscription-modal.header"})}),(0,e.jsx)(f.E,{theme:a.Il.THIRD,weight:a.nG.NORMAL,children:n({id:"generic.inscription-modal.disclaimer"})})]}),(0,e.jsxs)("div",{className:"flex flex-col space-y-5",children:[(0,e.jsx)(te.$,{testid:"inscriptions-modal-confirm-btn",onClick:s,children:n({id:"generic.understood"})}),(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("a",{className:"text-primary body-text font-medium",href:"https://support.trustwallet.com/en/support/solutions/articles/67000730959-transferring-brc20-tokens",target:"_blank",rel:"noopener nofollow noreferrer",children:n({id:"generic.learn-more"})})})]})]})})};var ve=l(55074),ye=l(27883),Ls=l(7707),_=l(79960);function Rs(t){var s;return((s=(0,_.t)()[t])==null?void 0:s.inscription)||"0"}var Ms=l(31902);const Ps=({asset:t})=>{const{formatMessage:s}=(0,B.A)(),[n,r]=(0,x.useState)(!1),c=(0,Ls.A)(t.assetId),d=Rs(t.assetId),o=(0,Ms.P)(t.assetId),u=[{type:"balance",label:t.type!==Ce.S.BRC20?"inscription-overview.available-balance":"inscription-overview.non-transferable-balance",value:c,display:!0},{type:"transferable",label:"inscription-overview.transferable-balance",value:o,display:t.type===Ce.S.BRC20,onClick:()=>r(!0)},{type:"inscription",label:"inscription-overview.inscription-balance",value:d,display:t.type!==Ce.S.BRC20}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"w-full",children:u.map(({type:i,label:m,value:y,display:v,onClick:T})=>v?(0,e.jsx)(ve.F,{label:s({id:m}),hideLine:!0,variant:ye.P.TABLE_LIST_TALL,labelInfoAction:T,children:(0,e.jsx)(O.h,{currency:t.symbol,amountType:K.Cu.CRYPTO,value:y})},i):null)}),(0,e.jsx)(ws,{opened:n,onClose:()=>r(!1)})]})},Ds=["balance","staked","rewards","pending","frozen","locked","blocked","claimable","transferable","inscription","dust","reserved"],kn=null,Os=({asset:t})=>{const{formatMessage:s}=(0,B.A)(),n=(0,_.t)(),r=(0,x.useMemo)(()=>{const d={};return Ds.forEach(o=>{var u,i;d[o]=(i=(u=n[t.assetId])==null?void 0:u[o])!=null?i:"0"}),d},[n[t.assetId]]),c=["balance","staked","pending","locked","blocked","frozen","reserved"];return(0,e.jsx)("div",{className:"w-full",children:c.map(d=>r[d]!=="0"?(0,e.jsx)(ve.F,{label:s({id:`staking-overview.available-balance-${d}`}),hideLine:!0,variant:ye.P.TABLE_LIST_TALL,children:(0,e.jsx)(O.h,{currency:t.symbol,amountType:K.Cu.CRYPTO,value:r[d]})},d):null)})};var Bs=l(13772),M=(t=>(t.DEFAULT="DEFAULT",t.BRAND="BRAND",t.ACCENT_PINK="ACCENT_PINK",t.ACCENT_NEON_GREEN="ACCENT_NEON_GREEN",t.ACCENT_YELLOW="ACCENT_YELLOW",t.ACCENT_BLUE="ACCENT_BLUE",t))(M||{}),Ae=(t=>(t.MEDIUM="MEDIUM",t.MINIMAL="MINIMAL",t))(Ae||{});const Hs={[M.DEFAULT]:"border-utility-1-opacity-5",[M.BRAND]:"border-primary-default",[M.ACCENT_PINK]:"border-accent-pink",[M.ACCENT_NEON_GREEN]:"border-accent-neon-green",[M.ACCENT_YELLOW]:"border-accent-yellow",[M.ACCENT_BLUE]:"border-accent-blue"},Us={[M.DEFAULT]:"text-primary-default",[M.BRAND]:"text-primary-default",[M.ACCENT_PINK]:"text-accent-pink",[M.ACCENT_NEON_GREEN]:"text-accent-neon-green",[M.ACCENT_YELLOW]:"text-accent-yellow",[M.ACCENT_BLUE]:"text-accent-blue"},Fs={[M.DEFAULT]:"bg-utility-1-opacity-5",[M.BRAND]:"bg-primary-default",[M.ACCENT_PINK]:"bg-accent-pink",[M.ACCENT_NEON_GREEN]:"bg-accent-neon-green",[M.ACCENT_YELLOW]:"bg-accent-yellow",[M.ACCENT_BLUE]:"bg-accent-blue"},ks={[Ae.MEDIUM]:"px-4 py-3",[Ae.MINIMAL]:"p-0"},nt=152,at=96,Ys=({width:t,height:s,className:n})=>(0,e.jsxs)("svg",{className:n,fill:"none",width:t??nt,height:s??at,viewBox:`0 0 ${nt} ${at}`,xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("path",{opacity:"0.8",fillRule:"evenodd",clipRule:"evenodd",d:"M7.75 23.5V0H8.25V23.5H31.75V0H32.25V23.5H55.75V0H56.25V23.5H79.75V0H80.25V23.5H103.75V0H104.25V23.5H127.75V0H128.25V23.5H152V24H128.25V47.5H152V48H128.25V71.5H152V72H128.25V96H127.75V72H104.25V96H103.75V72H80.25V96H79.75V72H56.25V96H55.75V72H32.25V96H31.75V72H8.25V96H7.75V72H-16V71.5H7.75V48H-16V47.5H7.75V24H-16V23.5H7.75ZM8.25 71.5H31.75V48H8.25V71.5ZM32.25 71.5H55.75V48H32.25V71.5ZM56.25 71.5H79.75V48H56.25V71.5ZM80.25 71.5H103.75V48H80.25V71.5ZM104.25 71.5H127.75V48H104.25V71.5ZM127.75 24V47.5H104.25V24H127.75ZM103.75 24V47.5H80.25V24H103.75ZM79.75 24V47.5H56.25V24H79.75ZM55.75 24V47.5H32.25V24H55.75ZM31.75 24V47.5H8.25V24H31.75Z",fill:"url(#paint0_radial_4077_44372)",fillOpacity:"0.24"}),(0,e.jsx)("defs",{children:(0,e.jsxs)("radialGradient",{id:"paint0_radial_4077_44372",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(68 48) scale(84 147)",children:[(0,e.jsx)("stop",{stopColor:"currentColor"}),(0,e.jsx)("stop",{offset:"1",stopColor:"currentColor",stopOpacity:"0"})]})})]}),Ks=({size:t,theme:s,icon:n,children:r})=>(0,e.jsxs)("div",{className:`${Hs[s]} relative overflow-hidden bg-background-2 border rounded-4 w-full`,children:[(0,e.jsx)(Ys,{className:`${Us[s]} absolute pointer-events-none`}),n&&(0,e.jsx)("div",{className:`${Fs[s]} absolute pointer-events-none w-8 h-6 rounded-br-4 py-1 px-2 text-on-primary`,children:n}),(0,e.jsx)("div",{className:`${ks[t]}`,children:r})]});var Vs=l(41327);function $s(){return(0,Le.GV)(s=>s.staking.stakingList)}function Ws(t){var s;return((s=(0,_.t)()[t])==null?void 0:s.claimable)||"0"}var je=l(15192);function Gs(t){var s;const r=(0,_.t)()[t];return new je.A((s=r?.staked)!=null?s:"0").toString()}function Zs(t){var s,n;return(n=(s=(0,_.t)()[t])==null?void 0:s.frozen)!=null?n:"0"}function lt(t){var s;return((s=(0,_.t)()[t])==null?void 0:s.pending)||"0"}function rt(t){var s;return((s=(0,_.t)()[t])==null?void 0:s.rewards)||"0"}var zs=l(11549),Xs=(t,s,n)=>new Promise((r,c)=>{var d=i=>{try{u(n.next(i))}catch(m){c(m)}},o=i=>{try{u(n.throw(i))}catch(m){c(m)}},u=i=>i.done?r(i.value):Promise.resolve(i.value).then(d,o);u((n=n.apply(t,s)).next())});const Qs=({assetId:t,blockchainId:s,symbol:n})=>{const{formatMessage:r}=(0,B.A)(),c=(0,Je.s)(),d=$s(),o=Gs(t),u=lt(t),i=rt(t),m=Zs(t),y=Ws(t),v=(0,zs.Y9)(s).toLowerCase(),T=o==="0"&&u==="0"&&i==="0"&&m==="0"&&y==="0",p=()=>Xs(null,null,function*(){yield Y.YW.emit(ne.A.EARN,{action:Bs.v.SET_CURRENT_WALLET}),yield c(`${I.b.EARN_STAKING}${t}`,{state:{navigationParams:{from:"asset-page-staking-teaser",origin:I.b.DEFAULT}}})}),g=(0,x.useMemo)(()=>{var h;return((h=d.find(A=>A.blockchain===s))==null?void 0:h.metadata.value)||"0"},[d]);return(0,e.jsx)(Ks,{size:Ae.MINIMAL,theme:M.DEFAULT,children:(0,e.jsx)(C.c,{onClick:p,children:(0,e.jsxs)("div",{className:"flex items-center justify-between space-x-2 px-4 py-3",children:[(0,e.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_14,theme:a.Il.UTILITY_1_OPACITY_1,children:r({id:`staking-teaser.${v}-staking`})}),(0,e.jsx)(O.h,{amountType:K.Cu.CRYPTO,value:o,currency:n,textType:a.jK.SUBHEADER_18}),(0,e.jsx)(f.E,{type:a.jK.CAPTION_12,theme:a.Il.PRIMARY_DEFAULT,children:i==="0"?r({id:"staking-teaser.description"},{maxApr:Number(g).toFixed(2)}):r({id:"staking-teaser.claimable-rewards"},{rewards:(0,e.jsx)(O.h,{textType:a.jK.CAPTION_12,theme:a.Il.PRIMARY_DEFAULT,amountType:K.Cu.CRYPTO,value:i,currency:n})})})]}),(0,e.jsx)("div",{children:T?(0,e.jsx)(te.$,{onClick:p,children:r({id:"staking-teaser.get-started"})}):(0,e.jsx)(Vs.v,{width:16,height:16,colorClass:"text-utility-1-opacity-2"})})]})})})};var le=l(152);const it=t=>{const{children:s,progress:n,size:r=160,strokeWidth:c=8,className:d}=t,o=(r-c)/2,u=`0 0 ${r} ${r}`,i=o*Math.PI*2,m=i-i*(n||0)/100;return(0,e.jsxs)("svg",{width:r,height:r,viewBox:u,className:`relative ${d}`,children:[(0,e.jsx)("circle",{className:"text-backgroundTertiary stroke-current",cx:r/2,cy:r/2,r:o,strokeWidth:`${c}px`,fill:"transparent"}),(0,e.jsx)("circle",{className:"text-primary -rotate-90 origin-[50%_50%] progress-ring__circle stroke-current",cx:r/2,cy:r/2,r:o,strokeLinecap:"round",strokeWidth:`${c}px`,transform:`rotate(-90 ${r/2} ${r/2})`,fill:"transparent",strokeDasharray:i,strokeDashoffset:m}),(0,e.jsx)("foreignObject",{x:"0",y:"1.5",width:r,height:r,className:"flex items-center justify-center",children:(0,e.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:s})})]})};var ot=l(2454),Js=l(89743),_s=l(55418),qs=l(99550),en=l(23350);const tn=({isOpen:t,onClose:s})=>{const{formatMessage:n}=(0,B.A)();return(0,e.jsx)(He.a,{opened:t,onClose:s,placement:en.Gn.CENTER,children:(0,e.jsxs)(_s.o,{direction:qs.R.COLUMN,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Be.I,{})}),(0,e.jsxs)("div",{className:"flex flex-col space-y-4 text-center px-4",children:[(0,e.jsx)(f.E,{type:a.jK.HEADER,children:n({id:"tron.resources.info.title",defaultMessage:"Resources"})}),(0,e.jsxs)("div",{className:"flex flex-col space-y-4 text-left",children:[(0,e.jsxs)(f.E,{theme:a.Il.THIRD,weight:a.nG.NORMAL,children:[(0,e.jsxs)("strong",{className:"text-textPrimary",children:[n({id:"tron.resources.bandwidth",defaultMessage:"Bandwidth"}),":"," "]}),n({id:"tron.resources.info.bandwidth",defaultMessage:"Used to discount costs for transfers. If you don't have enough Bandwidth to pay the full fee, it is paid in TRX. The meter on the asset page represents the sum of your daily free Bandwidth + any additional Bandwidth you earn from TRX you have staked. The more TRX you stake, the more daily Bandwidth you get. The meter refills every 24h.",description:"Description of Bandwidth resource on Tron network"})]}),(0,e.jsxs)(f.E,{theme:a.Il.THIRD,weight:a.nG.NORMAL,children:[(0,e.jsxs)("strong",{className:"text-textPrimary",children:[n({id:"tron.resources.energy",defaultMessage:"Energy"}),":"," "]}),n({id:"tron.resources.info.energy",defaultMessage:"Used to discount the cost of smart contract transactions. If you don't have enough Energy to pay the full fee, the remainder is paid in TRX. The meter on the asset page shows your daily Energy earned from any TRX you have staked, and it refills every 24 hours. The more TRX you stake, the more daily Energy you get. If your transaction fails, the Energy is burned and not refunded, and failed transactions consume more Energy than successful ones.",description:"Description of Energy resource on Tron network"})]})]}),(0,e.jsx)("div",{className:"flex flex-col py-4",children:(0,e.jsx)(te.$,{fullWidth:!0,onClick:s,children:n({id:"generic.got-it",defaultMessage:"Got it"})})})]})]})})};function sn(t){var s,n,r,c,d,o,u,i;const m=(0,_.t)(),y={amount:((n=(s=m[t])==null?void 0:s.energy)==null?void 0:n.amount)||"0",limit:((c=(r=m[t])==null?void 0:r.energy)==null?void 0:c.limit)||"0"},v={amount:((o=(d=m[t])==null?void 0:d.bandwidth)==null?void 0:o.amount)||"0",limit:((i=(u=m[t])==null?void 0:u.bandwidth)==null?void 0:i.limit)||"0"};return{energy:y,bandwidth:v}}var nn=l(29758);const an=({asset:t})=>{const{formatMessage:s}=(0,B.A)(),[n,r]=(0,x.useState)(!1),[c,d]=(0,x.useState)(0),[o,u]=(0,x.useState)(0),[i,m]=(0,x.useState)(0),[y,v]=(0,x.useState)(0),T=sn(t.assetId);return(0,x.useEffect)(()=>{var p,g,h,A;const P=(p=Number(T.bandwidth.limit))!=null?p:0,L=(g=Number(T.energy.limit))!=null?g:0;u((h=Number(T.bandwidth.amount))!=null?h:0),d((A=Number(T.energy.amount))!=null?A:0),m(c/L*100),v(o/P*100)},[t,T]),(0,e.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,e.jsx)(le.Z,{children:(0,e.jsxs)("div",{className:"flex justify-between px-1",children:[(0,e.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,e.jsxs)("div",{className:"flex space-x-0.5",children:[(0,e.jsx)(f.E,{type:a.jK.CAPTION,theme:a.Il.SECONDARY,children:s({id:"tron.resources.energy",defaultMessage:"Energy"})}),(0,e.jsx)(C.c,{onClick:()=>r(!0),children:(0,e.jsx)(ot.m,{height:16,width:16,colorClass:"text-iconNormal"})})]}),(0,e.jsx)(O.h,{amountType:K.Cu.CRYPTO,value:c,textType:a.jK.TITLE,weight:a.nG.SEMIBOLD})]}),(0,e.jsx)("div",{className:"flex items-center",children:(0,e.jsx)(it,{progress:i,size:30,strokeWidth:2.5,children:(0,e.jsx)(Js.Z,{height:15,width:15,colorClass:"text-iconNormal"})})})]})}),(0,e.jsx)(le.Z,{children:(0,e.jsxs)("div",{className:"flex justify-between px-1",children:[(0,e.jsxs)("div",{className:"flex flex-col space-y-0.5",children:[(0,e.jsxs)("div",{className:"flex space-x-0.5",children:[(0,e.jsx)(f.E,{type:a.jK.CAPTION,theme:a.Il.SECONDARY,children:s({id:"tron.resources.bandwidth",defaultMessage:"Bandwidth"})}),(0,e.jsx)(C.c,{onClick:()=>r(!0),children:(0,e.jsx)(ot.m,{height:16,width:16,colorClass:"text-iconNormal"})})]}),(0,e.jsx)(O.h,{amountType:K.Cu.CRYPTO,value:o,textType:a.jK.TITLE,weight:a.nG.SEMIBOLD})]}),(0,e.jsx)("div",{className:"flex items-center",children:(0,e.jsx)(it,{progress:y,size:30,strokeWidth:2.5,children:(0,e.jsx)(nn.U,{height:15,width:15,colorClass:"text-iconNormal"})})})]})}),(0,e.jsx)(tn,{isOpen:n,onClose:()=>r(!1)})]})},ln=["c20000714_t0x4B0F1812e5Df2A09796481Ff14017e6005508003","c20000714_t0xB0b84D294e0C75A6abe60171b70edEb2EFd14A1B"];var rn=l(33653);function on(t){var s;return((s=(0,_.t)()[t])==null?void 0:s.reserved)||"0"}function cn(t){var s,n;const r=(0,_.t)();return new je.A((n=(s=r[t])==null?void 0:s.staked)!=null?n:"0").toString()}var dn=l(29251),ct=l(65504),un=l(4504);function dt(t){const s=(0,_.t)();return(0,un.E)(s[t])}var ut=l(92588),ht=l(48346),mt=l(68632),ft=l(15351);function hn(t){var s,n;const r=dt((s=t?.assetId)!=null?s:""),c=(0,ut.q)(t);return new je.A(r).mul((n=c?.price)!=null?n:"0").toString()}const mn=({asset:t,blockchain:s})=>{var n,r;const{formatMessage:c}=(0,B.A)(),d=(0,Me.A)(),o=cn(t.assetId),u=rt(t.assetId),i=lt(t.assetId),m=on(t.assetId),y=dt(t.assetId),v=hn(t),{currency:T,baseCurrencyType:p}=(0,Re.P)(),g=(0,ut.q)(t),[h,A]=(0,x.useState)(!1),P=t.type===Ce.S.BRC20,L=rn.bm.includes(t.blockchainId)&&!t.address&&d.type!==dn.S.HARDWARE,U=ln.includes(t.assetId),E=Te.includes(t.blockchainId)&&!t.address,D=L&&new je.A(o).add(u).add(i).gt(0)||U||s.id===ie.J.tron||E&&new je.A(m).gt(0),se=P||t.blockchainId===ie.J.bitcoin,N=s.id===ie.J.tron;return(0,e.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:c({id:"asset.holdings.header",defaultMessage:"My Balance"})}),(0,e.jsx)(le.Z,{children:(0,e.jsxs)("div",{className:"flex gap-3 py-2",children:[(0,e.jsx)(ct.q,{name:t.symbol,network:t.address?s:void 0,src:t.iconUrl,size:mt.Y.LARGE}),(0,e.jsxs)("div",{className:"flex w-full justify-between",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)(f.E,{type:a.jK.HEADER_16,lineHeight:a.jK.HEADER_20,children:t.name}),(0,e.jsx)(O.h,{value:y,currency:t.symbol,amountType:K.Cu.CRYPTO,textType:a.jK.BODY_14,lineHeight:a.jK.BODY_16})]}),(0,e.jsxs)("div",{className:"flex flex-col text-right",children:[(0,e.jsx)(O.h,{value:v,currency:T,amountType:p,textType:a.jK.HEADER_16,lineHeight:a.jK.HEADER_20}),(0,e.jsx)(ht.S,{isLoading:!g,widthClass:"w-10",heightClass:"h-4",children:(0,e.jsx)(O.h,{value:(n=g?.change_24h)!=null?n:0,amountType:K.Cu.PERCENT,textType:a.jK.BODY_14,lineHeight:a.jK.BODY_16,theme:((r=g?.change_24h)!=null?r:0)<0?a.Il.ERROR_1_DEFAULT:a.Il.SUCCESS_1_DEFAULT})})]})]})]})}),L&&(0,e.jsx)(Qs,{assetId:t.assetId,blockchainId:t.blockchainId,symbol:t.symbol}),N&&(0,e.jsx)(an,{asset:t}),h&&(0,e.jsxs)("div",{className:"w-full flex flex-col mt-2",children:[se&&(0,e.jsx)(Ps,{asset:t}),D&&(0,e.jsx)(Os,{asset:t})]}),(D||se)&&(0,e.jsx)("div",{className:"flex justify-center py-2",children:(0,e.jsxs)(te.$,{theme:$.ry.SECONDARY,size:$.Vp.SMALL,fullWidth:!1,onClick:()=>A(!h),className:"text-utility-1-default gap-1",children:[c({id:`asset.holdings.${h?"collapse":"show"}-all-balances`,defaultMessage:h?"Hide balances":"Show balances"}),(0,e.jsx)(ft.D,{width:16,height:16,colorClass:`transition-transform ${h?"rotate-180":"rotate-0"}`})]})})]})},fn=3600*1e3,xn=t=>{const{isPending:s,data:n}=(0,Pe.I)({queryKey:["market-info",t],queryFn:()=>Y.YW.emit(De.A.FETCH_MARKET_INFO,t),staleTime:fn,refetchOnWindowFocus:!1});return[s,n]};var Ue=l(2543);const xt=24,vt=24,vn=({width:t,height:s,colorClass:n})=>(0,e.jsxs)("svg",{className:n,fill:"none",width:t??xt,height:s??vt,viewBox:`0 0 ${xt} ${vt}`,xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("path",{d:"M12 4.25C16.27 4.25 19.75 7.73 19.75 12C19.75 16.27 16.27 19.75 12 19.75C7.73 19.75 4.25 16.27 4.25 12C4.25 7.73 7.73 4.25 12 4.25ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M10.9099 16.06C10.6599 16.06 10.4199 15.97 10.2299 15.79L7.38992 13.17C6.97992 12.8 6.95992 12.16 7.32992 11.76C7.69992 11.35 8.33992 11.33 8.73992 11.7L10.7999 13.6L15.1499 8.30999C15.4999 7.87999 16.1299 7.81999 16.5599 8.16999C16.9899 8.51999 17.0499 9.14999 16.6999 9.57999L11.6799 15.69C11.5099 15.9 11.2499 16.03 10.9799 16.05C10.9599 16.05 10.9299 16.05 10.9099 16.05V16.06Z",fill:"currentColor"})]}),yt=24,pt=24,yn=({width:t,height:s,colorClass:n})=>(0,e.jsx)("svg",{className:n,fill:"none",width:t??yt,height:s??pt,viewBox:`0 0 ${yt} ${pt}`,xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3257 2.0225C9.19756 2.16653 7.23788 2.95757 5.55576 4.35156C5.28041 4.57972 4.57832 5.28181 4.35015 5.55717C3.07483 7.09609 2.30686 8.85847 2.07335 10.7821C1.76132 13.3525 2.45279 15.9465 3.99592 17.9945C4.30698 18.4073 4.51731 18.6471 4.93464 19.0644C5.35198 19.4817 5.59171 19.6921 6.00453 20.0031C7.89012 21.4239 10.2718 22.134 12.6313 21.9791C14.7906 21.8373 16.7488 21.052 18.4419 19.6489C18.7172 19.4207 19.4193 18.7186 19.6475 18.4433C20.3596 17.584 20.8799 16.7177 21.2773 15.7293C22.579 12.4926 22.0919 8.78004 20.0017 6.00594C19.6907 5.59311 19.4803 5.35338 19.063 4.93605C18.6457 4.51871 18.4059 4.30839 17.9931 3.99733C16.099 2.57017 13.706 1.86139 11.3257 2.0225ZM11.5233 4.1588C9.89854 4.2565 8.36286 4.84984 7.06882 5.87992C6.79877 6.09488 6.09347 6.80017 5.87851 7.07023C4.96875 8.21314 4.39524 9.55372 4.20964 10.9713C4.00394 12.5423 4.27243 14.1172 4.98988 15.5485C5.36922 16.3052 5.80628 16.9032 6.45117 17.5476C7.3608 18.4567 8.31359 19.0492 9.50922 19.4493C11.5089 20.1184 13.6474 19.9613 15.5549 19.0053C16.3013 18.6312 16.9034 18.1904 17.5462 17.5476C18.4548 16.6391 19.0477 15.6857 19.4479 14.4898C20.117 12.4902 19.9599 10.3517 19.0039 8.44411C18.6299 7.69799 18.1894 7.09617 17.5462 6.45257C16.6394 5.54513 15.6846 4.95148 14.4884 4.55119C13.7851 4.31585 13.2014 4.20447 12.4262 4.15771C12.039 4.13435 11.9276 4.13448 11.5233 4.1588ZM11.7193 6.84648C11.3607 6.94011 11.0575 7.24702 10.9622 7.61281C10.9136 7.79929 10.9144 12.4217 10.963 12.6084C11.0419 12.9112 11.2775 13.1958 11.5501 13.3177C11.7609 13.412 12.0551 13.4378 12.2688 13.3809C12.6319 13.2842 12.9397 12.9728 13.0354 12.6051C13.0833 12.4214 13.0833 7.79657 13.0354 7.61281C12.989 7.43461 12.9129 7.29765 12.7816 7.15641C12.5724 6.93124 12.2981 6.80977 11.9988 6.80977C11.9224 6.80977 11.7966 6.82629 11.7193 6.84648ZM11.7714 14.3814C11.4564 14.4409 11.2596 14.5394 11.0376 14.7489C10.7471 15.0229 10.6115 15.3129 10.5943 15.6972C10.5819 15.973 10.6213 16.1805 10.7262 16.3918C11.1336 17.2123 12.1683 17.4488 12.8802 16.8841C13.449 16.4329 13.5804 15.5902 13.1749 14.9932C13.0657 14.8322 12.8432 14.6275 12.676 14.534C12.4225 14.3922 12.0483 14.3291 11.7714 14.3814Z",fill:"currentColor"})}),gt=24,Ct=24,pn=({width:t,height:s,colorClass:n})=>(0,e.jsxs)("svg",{className:n,fill:"none",width:t??gt,height:s??Ct,viewBox:`0 0 ${gt} ${Ct}`,xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("path",{d:"M13.41 12L16.5 8.91002C16.89 8.52002 16.89 7.89002 16.5 7.50002C16.11 7.11002 15.48 7.11002 15.09 7.50002L12 10.59L8.91002 7.50002C8.52002 7.11002 7.89002 7.11002 7.50002 7.50002C7.11002 7.89002 7.11002 8.52002 7.50002 8.91002L10.59 12L7.50002 15.09C7.11002 15.48 7.11002 16.11 7.50002 16.5C7.70002 16.7 7.95002 16.79 8.21002 16.79C8.47002 16.79 8.72002 16.69 8.92002 16.5L12.01 13.41L15.1 16.5C15.3 16.7 15.55 16.79 15.81 16.79C16.07 16.79 16.32 16.69 16.52 16.5C16.91 16.11 16.91 15.48 16.52 15.09L13.43 12H13.41Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M12 4.25C16.27 4.25 19.75 7.73 19.75 12C19.75 16.27 16.27 19.75 12 19.75C7.73 19.75 4.25 16.27 4.25 12C4.25 7.73 7.73 4.25 12 4.25ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",fill:"currentColor"})]}),jt=({security:t,provider:s,isHoneypot:n,isScanned:r})=>{const{formatMessage:c}=(0,B.A)(),[d,o]=(0,x.useState)(!1),u={warning:(0,e.jsx)(yn,{width:16,height:16,colorClass:"text-textBuy"}),risk:(0,e.jsx)(pn,{width:16,height:16,colorClass:"text-textBuy"}),success:(0,e.jsx)(vn,{width:16,height:16,colorClass:"text-textBuy"})},i={warning:a.Il.WARNING,risk:a.Il.ERROR,success:a.Il.SUCCESS},m={warning:"warning-alert",risk:"error-alert",success:"p-3"},y=typeof t?.buy_tax=="number",v=(0,x.useMemo)(()=>r?t?.num_risks>0?c({id:`asset.about.security-header-risk${t.num_risks===1?"":"s"}`,defaultMessage:`{numberOfRisks} Risk${t.num_risks===1?"":"s"} identified`},{numberOfRisks:t.num_risks}):t?.num_warnings>0?c({id:`asset.about.security-header-warning${t.num_warnings===1?"":"s"}`,defaultMessage:`{numberOfWarnings} Warning${t.num_warnings===1?"":"s"} identified`},{numberOfWarnings:t.num_warnings}):c({id:"asset.about.security-header",defaultMessage:"No significant risks found"}):c({id:`asset.about.security-header-not-scanned${n?"-honeypot":"-contract"}`,defaultMessage:`Not scanned. Unknown ${n?"honeypot":"contract"} risk`}),[r,t]),T=(0,x.useMemo)(()=>!r||t?.num_risks>0?"risk":t?.num_warnings>0?"warning":"success",[r,t]);return(0,e.jsxs)(le.Z,{noPadding:!0,children:[(0,e.jsxs)("div",{className:`flex justify-between items-center px-2 py-1 ${r?"cursor-pointer":""}`,onClick:()=>o(!d),children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 py-4 px-2",children:[u[T],(0,e.jsx)(f.E,{type:a.jK.BODY_12,theme:i[T],children:v})]}),r&&(0,e.jsx)(ft.D,{width:16,height:16,colorClass:`transition-transform mr-2 ${d?"rotate-180":"rotate-0"}`})]}),r&&d&&(0,e.jsxs)("div",{className:"flex flex-col gap-6 py-4 px-2",children:[y&&(0,e.jsxs)("div",{className:"flex-flex-col gap-2 mx-3",children:[(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)(f.E,{type:a.jK.BODY_12,theme:a.Il.UTILITY_1_OPACITY_1,children:c({id:"asset.about.buy-tax",defaultMessage:"Buy tax:"})}),(0,e.jsx)(O.h,{value:t.buy_tax,amountType:K.Cu.PERCENT,theme:a.Il.UTILITY_1_OPACITY_1})]}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)(f.E,{type:a.jK.BODY_12,theme:a.Il.UTILITY_1_OPACITY_1,children:c({id:"asset.about.sell-tax",defaultMessage:"Sell tax:"})}),(0,e.jsx)(O.h,{value:t.sell_tax,amountType:K.Cu.PERCENT,theme:a.Il.UTILITY_1_OPACITY_1})]})]}),t?.items.filter(p=>!!p.description).map(p=>(0,e.jsxs)("div",{className:`flex flex-col gap-2 ${m[p.type]}`,children:[(0,e.jsxs)("div",{className:"flex w-full gap-2 items-center",children:[u[p.type],(0,e.jsx)(f.E,{type:a.jK.BODY_12,theme:i[p.type],children:(0,Ue.capitalize)(p.type)})]},p.code),(0,e.jsx)(f.E,{type:a.jK.BODY_12,theme:i[p.type],children:p.description})]})),s&&(0,e.jsx)("div",{className:"mx-3",children:(0,e.jsx)(f.E,{type:a.jK.BODY_12,theme:a.Il.UTILITY_1_OPACITY_1,children:c({id:"asset.about.scanned-by",defaultMessage:"Scanned by {provider}"},{provider:s})})})]})]})};var gn=l(40053),Cn=l(19376),Fe=l(73241);const Et=({isScanned:t})=>{const{formatMessage:s}=(0,B.A)();return(0,e.jsx)(Cn.v,{theme:t?Fe.x.SUCCESS:Fe.x.ERROR,size:Fe.V.TINY,children:(0,e.jsx)(f.E,{type:a.jK.CAPTION_10,weight:a.nG.MEDIUM,theme:t?a.Il.SUCCESS:a.Il.ERROR,children:s({id:`asset.about.contract-security-tag.${t?"scanned":"not-scanned"}`,defaultMessage:t?"Scanned":"Not scanned"})})})};var jn=l(26113);const Tt=220,ke=3,En=({asset:t,blockchain:s,coinStatus:n})=>{var r,c,d,o,u,i,m,y,v,T;const{formatMessage:p}=(0,B.A)(),[g,h]=xn(t.assetId),[A,P]=(0,x.useState)(!1),L=(0,x.useMemo)(()=>{const U=[...h?.info.links||[]];return h?.info.research&&U.unshift({name:"Research",url:h?.info.research}),h?.info.explorer&&U.unshift({name:"Explorer",url:h?.info.explorer}),h?.info.website&&U.unshift({name:"Official website",url:h?.info.website}),U},[(r=h?.info.links)==null?void 0:r.length]);return(0,e.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,e.jsx)(G.E,{isLoading:g,className:"w-12 h-4",children:(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:p({id:"asset.about.header",defaultMessage:"About {symbol}"},{symbol:t.symbol})})}),(0,e.jsx)(G.E,{isLoading:g,className:"w-full h-4 my-1",children:h?.info.description&&(0,e.jsx)(f.E,{type:a.jK.BODY_14,lineHeight:a.jK.BODY_16,children:(0,Ue.truncate)(h.info.description,{length:A?(d=(c=h.info.description)==null?void 0:c.length)!=null?d:0:Tt})})}),((u=(o=h?.info.description)==null?void 0:o.length)!=null?u:0)>Tt&&(0,e.jsx)(te.$,{onClick:()=>P(!A),size:$.Vp.SMALL,theme:$.ry.BRAND_TRANSPARENT,noPadding:!0,fullWidth:!1,className:"py-2",children:p({id:`generic.view-${A?"less":"more"}`})}),n?.security_info&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:p({id:"asset.about.contract-security",defaultMessage:"Contract security"})}),(0,e.jsx)(Et,{isScanned:n.security_info.is_scanned})]}),(0,e.jsx)(jt,{security:n.security_info.contract_security,provider:n.security_info.provider,isScanned:n.security_info.is_scanned}),(0,e.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:p({id:"asset.about.honeypot-risk",defaultMessage:"Honeypot risk"})}),(0,e.jsx)(Et,{isScanned:n.security_info.is_scanned})]}),(0,e.jsx)(jt,{security:n.security_info.honeypot_risk,provider:n.security_info.provider,isScanned:n.security_info.is_scanned,isHoneypot:!0})]}),(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:p({id:"asset.about.stats",defaultMessage:"Stats"})}),(0,e.jsx)(le.Z,{noPadding:!0,children:(0,e.jsxs)("div",{className:"py-2",children:[(0,e.jsx)(ve.F,{variant:ye.P.TABLE_LIST_TALL,label:p({id:"asset.about.market-cap",defaultMessage:"Market Cap"}),hideLine:!0,children:(0,e.jsx)(G.E,{isLoading:g,className:"w-20 h-3",children:(0,e.jsx)(O.h,{textType:a.jK.SUBHEADER_14,theme:a.Il.UTILITY_1_OPACITY_1,lineHeight:a.jK.SUBHEADER_18,amountType:K.Cu.FIAT,currency:"USD",value:(i=h?.marketCap)!=null?i:0})})}),(0,e.jsx)(ve.F,{variant:ye.P.TABLE_LIST_TALL,label:p({id:"asset.about.circulating-supply",defaultMessage:"Circulating Supply"}),hideLine:!0,children:(0,e.jsx)(G.E,{isLoading:g,className:"w-20 h-3",children:(0,e.jsx)(O.h,{textType:a.jK.SUBHEADER_14,theme:a.Il.UTILITY_1_OPACITY_1,lineHeight:a.jK.SUBHEADER_18,amountType:K.Cu.CRYPTO,maxSignificantDecimals:ke,currency:t.symbol,value:(m=h?.circulatingSupply)!=null?m:0})})}),(0,e.jsx)(ve.F,{variant:ye.P.TABLE_LIST_TALL,label:p({id:"asset.about.total-supply",defaultMessage:"Total Supply"}),hideLine:!0,children:(0,e.jsx)(G.E,{isLoading:g,className:"w-20 h-3",children:(0,e.jsx)(O.h,{textType:a.jK.SUBHEADER_14,theme:a.Il.UTILITY_1_OPACITY_1,lineHeight:a.jK.SUBHEADER_18,maxSignificantDecimals:ke,currency:t.symbol,amountType:K.Cu.CRYPTO,value:(y=h?.totalSupply)!=null?y:0})})}),(0,e.jsx)(ve.F,{variant:ye.P.TABLE_LIST_TALL,label:p({id:"asset.about.volume-24h",defaultMessage:"Volume (24h)"}),hideLine:!0,children:(0,e.jsx)(G.E,{isLoading:g,className:"w-20 h-3",children:(0,e.jsx)(O.h,{textType:a.jK.SUBHEADER_14,theme:a.Il.UTILITY_1_OPACITY_1,lineHeight:a.jK.SUBHEADER_18,amountType:K.Cu.CRYPTO,currency:t.symbol,maxSignificantDecimals:ke,value:(v=h?.volume24)!=null?v:0})})})]})}),t.address&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:p({id:"asset.about.contract-address",defaultMessage:"Contract Address"})}),(0,e.jsx)(le.Z,{children:(0,e.jsxs)("div",{className:"flex py-2 justify-between",children:[(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(ct.q,{name:s.symbol,src:s.iconUrl,size:mt.Y.XSMALL}),(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_14,lineHeight:a.jK.SUBHEADER_18,children:(T=s.displayName)!=null?T:s.name})]}),(0,e.jsx)("a",{href:`${s.explorer.url}/address/${t.address}`,className:"text-primary",target:"_blank",rel:"noopener nofollow noreferrer",children:(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_14,theme:a.Il.PRIMARY_DEFAULT,lineHeight:a.jK.SUBHEADER_18,children:(0,gn.p)({value:t.address,maxCharsPerSide:10})})})]})})]}),(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:p({id:"asset.about.links",defaultMessage:"Links"})}),(0,e.jsx)(G.E,{isLoading:g,className:"w-full",children:(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:L?.map((U,E)=>(0,e.jsx)("a",{href:U.url,target:"_blank",rel:"noopener nofollow noreferrer",children:(0,e.jsx)(te.$,{theme:$.ry.SUBTLE,size:$.Vp.SMALL,onClick:jn.Z,className:"flex-shrink-0",fullWidth:!1,children:(0,Ue.capitalize)(U.name)},"asset-about-link-"+E)}))})})]})};var Tn=l(40980),It=l(42201),At=l(23384),Nt=l(60799),In=l(23207),An=l(42564),Nn=l(2472);const bn=t=>{var s;const{data:n,isFetching:r,error:c,refetch:d}=(0,Pe.I)({queryKey:["buy-crypto-widget-quote",t?.assetId,(s=t?.fiatAmount)!=null?s:"no-amount"],queryFn:()=>Y.YW.emit(At.A.BUY_CRYPTO_WIDGET_QUOTE,t),enabled:!!t?.address&&!!t?.assetId,retry:2,refetchOnWindowFocus:!1,staleTime:3e4,gcTime:3e5});return{data:n,isLoading:r&&!n,error:c,refetch:d}};var bt=(t,s,n)=>new Promise((r,c)=>{var d=i=>{try{u(n.next(i))}catch(m){c(m)}},o=i=>{try{u(n.throw(i))}catch(m){c(m)}},u=i=>i.done?r(i.value):Promise.resolve(i.value).then(d,o);u((n=n.apply(t,s)).next())});const Sn=({asset:t})=>{const{formatMessage:s}=(0,B.A)(),{trackAnalytics:n}=(0,In.s)(),[r,c]=(0,x.useState)(""),[d,o]=(0,x.useState)(),[u,i]=(0,x.useState)(),[m,y]=(0,x.useState)(),[v,T]=(0,x.useState)(),[p,g]=(0,x.useState)(!1),h=(0,Me.A)(),A=(0,Oe.F7)(t.assetId),P=(0,x.useRef)(0),L=(0,x.useRef)(null),U=(0,x.useMemo)(()=>{if(!h||!A?.address)return null;let R=r?parseFloat(r):void 0;return P.current===1&&R===m&&(R="no-amount"),{address:A.address,assetId:t.assetId,fiatAmount:R}},[h,A?.address,t.assetId,r]),{data:E,isLoading:D,refetch:se}=bn(U),N=E?.currencyConfig,j=E?.quote,b=R=>{if(!N)return;const re=parseFloat(R===""?"0":R);if(!Number.isNaN(re)){if(re<N.minAmount)return s({id:"validation.error-min-amount"},{min:N.minAmount});if(re>N.maxAmount)return s({id:"validation.error-max-amount"},{max:N.maxAmount})}},Ee=R=>{const Q=b(R);return{isValid:!Q,error:Q}};(0,x.useEffect)(()=>{N?.defaultAmount&&P.current===0&&(c(N.defaultAmount.toString()),i(N.fiatCurrency),y(N.defaultAmount),T(N.suggestedAmounts),P.current++)},[N?.defaultAmount]),(0,x.useEffect)(()=>()=>{L.current&&clearTimeout(L.current)},[]);const oe=()=>{L.current&&(clearTimeout(L.current),L.current=null)},ce=R=>{c(R),oe();const{isValid:Q,error:re}=Ee(R);o(re),Q&&(L.current=setTimeout(()=>bt(null,null,function*(){P.current++,yield se()}),300))},Ne=R=>{ce(R.toString()),j&&!p&&de()},de=()=>bt(null,null,function*(){var R;if(j){g(!0);try{const{url:Q,addressField:re,address:Un,error:Ye}=yield Y.YW.emit(At.A.BUY_CRYPTO,{quote:{id:j.id,digitalMoney:j.digitalMoney,fiatMoney:j.fiatMoney,provider:j.provider,paymentMethod:j.paymentMethod,isRecommended:j.isRecommended,badges:j.badges},assetId:t.assetId});if(Ye?.message){Nt.Ay.error(Ye.message);return}const be=new URL(Q);re&&be.searchParams.set(re,Un);for(const[St,Fn]of be.searchParams)St==="address"&&be.searchParams.set(St,(0,An.d)(Fn));window.open(be,"_blank"),n({event:F.Un.FIAT_ON_RAMPS_PROVIDER,props:{pageViewResourceType:F.Rb.EXTERNAL,blockchainId:t.blockchainId,assetCurrency:j.digitalMoney.currency,assetAmount:j.digitalMoney.amount||0,assetFiatCurrency:j.fiatMoney.currency,assetFiatAmount:((R=j.fiatMoney)==null?void 0:R.amount)||0,providerName:j.provider.name||"Unknown",paymentMethod:j.paymentMethod.paymentMethod,subPaymentMethod:j.paymentMethod.providerName||void 0}})}catch(Q){Nt.Ay.error(Q.message)}finally{g(!1)}}});return(0,e.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_14,weight:a.nG.SEMIBOLD,theme:a.Il.UTILITY_1_OPACITY_1,lineHeight:a.jK.SUBHEADER_18,children:s({id:"asset.buy-now.header",defaultMessage:"Buy Now"})}),(0,e.jsx)(le.Z,{children:(0,e.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsxs)("div",{className:"w-[200px]",children:[(0,e.jsx)(ht.S,{isLoading:!r,widthClass:"w-[100px]",heightClass:"h-8",children:(0,e.jsx)(Tn.R,{placeholder:"0",value:r,disabled:p||!P.current,align:It.Bi.LEFT,amountType:It.yf.FIAT,onChange:ce,currency:u,currencyOffsetClass:"max-w-[200px]",testid:"buy-input-amount"})}),!!d&&(0,e.jsx)(f.E,{theme:a.Il.ERROR,type:a.jK.BODY_12,children:d})]}),(0,e.jsx)(te.$,{disabled:!j||p||!!d,size:$.Vp.SMALL,onClick:de,fullWidth:!1,children:s({id:"buy-now-widget.button.text",defaultMessage:"Buy"})})]}),(0,e.jsxs)("div",{className:"flex gap-1.5 h-[26px] items-center",children:[(0,e.jsx)(Nn.i,{length:4,widthClass:"w-8",heightClass:"h-6",isLoading:!v,horizontal:!0}),v?.map((R,Q)=>(0,e.jsx)(te.$,{size:$.Vp.XSMALL,onClick:()=>Ne(R),disabled:p,fullWidth:!1,theme:$.ry.SUBTLE,className:"font-semibold",children:R},"suggested-amount-"+Q))]}),!d&&(D||!!j)&&(0,e.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,e.jsx)(f.E,{theme:a.Il.UTILITY_1_OPACITY_1,type:a.jK.BODY_12,children:s({id:"buy-now-widget.text.description",defaultMessage:"Buying"})}),(0,e.jsx)(G.E,{isLoading:D,className:"w-8 h-3 mx-1",children:(0,e.jsx)(f.E,{theme:a.Il.UTILITY_1_OPACITY_1,type:a.jK.BODY_12,children:j?.digitalMoney.amount})}),(0,e.jsx)(f.E,{theme:a.Il.UTILITY_1_OPACITY_1,type:a.jK.BODY_12,children:t.symbol}),(0,e.jsx)("span",{children:"\xB7"}),(0,e.jsx)(G.E,{isLoading:D,className:"w-10 h-3 mx-1",children:(0,e.jsx)(f.E,{theme:a.Il.UTILITY_1_OPACITY_1,type:a.jK.BODY_12,children:j?.paymentMethod.paymentMethod&&s({id:"payment."+j.paymentMethod.paymentMethod.toLowerCase()+"-title"})})}),(0,e.jsx)("span",{children:"\xB7"}),(0,e.jsx)(G.E,{isLoading:D,className:"w-10 h-3 mx-1",children:(0,e.jsx)(f.E,{theme:a.Il.UTILITY_1_OPACITY_1,type:a.jK.BODY_12,children:j?.provider.name})})]})]})})]})};var wn=l(2496),Ln=l(32669),Rn=l(80179);const Mn=({blockchain:t})=>{const{formatMessage:s}=(0,B.A)(),n=(0,Oe.F7)(t.coinId);if(!n)return null;const r=`${t.explorer.url}${t.explorer.accountPath}${n.address}`;return(0,e.jsx)(le.Z,{dashed:!0,theme:Ln.R.TRANSPARENT,children:(0,e.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,e.jsx)(f.E,{type:a.jK.CAPTION,theme:a.Il.SECONDARY,children:s({id:"transaction.cannot-find-transaction"})}),(0,e.jsx)(te.$,{theme:$.ry.TRANSPARENT,noPadding:!0,fullWidth:!1,onClick:()=>(0,Rn.kK)(r),children:(0,e.jsx)(f.E,{type:a.jK.CAPTION,theme:a.Il.BRAND,weight:a.nG.MEDIUM,children:s({id:"transaction.check-explorer"})})})]})})},Pn=({transactions:t,fetchNextPage:s,hasNextPage:n,historyAvailable:r,transactionsFetched:c,showLoader:d,emptyPeriodFetched:o,scrollableAreaHeight:u,blockchain:i,asset:m})=>{const{formatMessage:y}=(0,B.A)();return(0,e.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,e.jsx)(f.E,{type:a.jK.SUBHEADER_16,lineHeight:a.jK.SUBHEADER_20,children:y({id:"asset.history.header",defaultMessage:"Recent Transactions"})}),(0,e.jsx)(wn.D,{transactions:t,loadMoreItems:s,hasNextPage:n,historyAvailable:r,fetchingStarted:c,fetchingTransactions:d,emptyPeriodFetched:o,scrollableAreaHeight:u,asset:m,children:(0,e.jsx)(Mn,{blockchain:i})})]})};var Dn=l(10998);const On=96,Bn=72,Hn=()=>{var t,s;const{assetId:n}=(0,k.g)(),r=(0,W.X)(),{state:c}=(0,k.zy)(),{formatMessage:d}=(0,B.A)();if(!n)throw new Error(`Asset Id "${n}" is invalid.`);const o=(0,rs.Mr)(n);if(!o)throw new Error(`Could not find asset for assetId "${n}"`);const[u,i]=(0,Dn.N)(o.assetId),m=(0,q.V)(o.assetId),y=(0,is.A)(o),v=(0,Oe.F7)(y.coinId),T=we(o);if(!y)throw new Error(`Could not find blockchain with id ID "${o.blockchainId}".`);(0,x.useEffect)(()=>{Y.YW.emit(De.A.FETCH_MARKET_SENTIMENT_ASSETS)},[]),(0,Z.K)({event:F.Un.ASSET,props:{assetId:o.assetId,assetName:o.name,blockchainId:o.blockchainId}});const p=(0,k.Zp)(),g=(0,ls.q)(y,o),h=[{key:Ie.k$.HOLDINGS,title:d({id:"asset.tabs.holdings",defaultMessage:"Holdings"})},{key:Ie.k$.HISTORY,title:d({id:"asset.tabs.history",defaultMessage:"History"})},{key:Ie.k$.ABOUT,title:d({id:"asset.tabs.about",defaultMessage:"About"})}],[A,P]=(0,x.useState)((t=c?.activeTab)!=null?t:Ie.k$.HOLDINGS),L=(0,x.useMemo)(()=>window.innerHeight-fe.a4-(m?Bn:0)-(r?0:fe.e4+fe.Et)-On,[r]),{isFetching:U,transactionsFetched:E,hasNextPage:D,lastFetchedTransactionTime:se,emptyPeriodFetched:N,fetchNextPage:j}=(0,as.Tl)(o,y,v.address),b=(0,x.useMemo)(()=>!Object.keys(g).length&&E?!0:U,[g,E]),Ee=()=>{c?.origin?p(c.origin):p(I.b.DEFAULT)};return(0,e.jsxs)(fe.LN,{children:[(0,e.jsx)(fe.zY,{title:o.symbol,subtitle:(s=y.displayName)!=null?s:y.name,backAction:Ee}),(0,e.jsxs)(fe.Gv,{children:[m&&(0,e.jsx)("div",{className:"pr-2 mb-2",children:(0,e.jsx)(S.h,{assetId:o.assetId})}),(0,e.jsxs)(os.A,{dataLength:Object.values(g).flat().length,next:j,height:L,className:"tw-scrollbar pb-4",hasMore:!!D,loader:null,style:{display:"flex",flexDirection:"column"},children:[(0,e.jsx)(ns,{asset:o,coinStatus:i}),i?.isBuyCryptoEnabled&&(0,e.jsx)(Sn,{asset:o}),(0,e.jsxs)(ee.fu,{as:x.Fragment,selectedIndex:A,onChange:P,children:[(0,e.jsx)("div",{className:"flex w-full mt-2 justify-between items-center",children:(0,e.jsx)(ee.wb,{className:"flex h-10 space-x-8 w-full px-4",children:h.map(oe=>(0,e.jsx)(ee.oz,{"data-testid":`tab-${oe.key}`,className:"outline-none flex flex-col items-center justify-center",children:({selected:ce})=>(0,e.jsxs)("div",{className:"flex flex-col w-fit h-full justify-between",children:[(0,e.jsx)("div",{className:"flex items-center h-full",children:(0,e.jsx)(f.E,{theme:ce?a.Il.UTILITY_1_DEFAULT:a.Il.UTILITY_1_OPACITY_2,type:a.jK.SUBHEADER_16,weight:a.nG.MEDIUM,children:oe.title})}),(0,e.jsx)("div",{"data-selected":ce,className:"w-full h-1 rounded-full data-[selected='true']:bg-primary"})]})},oe.key))})}),(0,e.jsx)("div",{className:"w-full border-b border-b-utility-1-opacity-5"}),(0,e.jsxs)(ee.T2,{className:"flex flex-1 pt-4",children:[(0,e.jsx)(ee.Kp,{unmount:!1,className:"flex w-full outline-none",children:(0,e.jsx)(mn,{asset:o,blockchain:y})}),(0,e.jsx)(ee.Kp,{unmount:!1,className:"flex w-full outline-none",children:(0,e.jsx)(Pn,{transactions:g,fetchNextPage:j,hasNextPage:D,historyAvailable:!!se,transactionsFetched:E,showLoader:b,emptyPeriodFetched:N,scrollableAreaHeight:L,blockchain:y,asset:o})}),(0,e.jsx)(ee.Kp,{unmount:!1,className:"flex w-full outline-none",children:(0,e.jsx)(En,{asset:o,blockchain:y,coinStatus:i})})]})]})]}),(0,e.jsx)(Ss,{asset:o,isTokenRequiringRegistration:T,blockchain:y})]})]})}})}]);

//# sourceMappingURL=7427.js.map