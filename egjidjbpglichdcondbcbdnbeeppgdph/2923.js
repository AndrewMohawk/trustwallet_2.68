"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[2923],{15972:((N,j,s)=>{s.d(j,{Y:()=>t});var t=(x=>(x.INITIATE="initiate",x.CLOSE="close",x))(t||{})}),25708:((N,j,s)=>{s.d(j,{A:()=>L});var t=s(74848),x=s(64720),f=s(93077),p=s(88774),E=s(30081),M=s(68632),S=s(79830),l=s(66392),h=s(96159),R=s(54290);const L=({status:T,type:H})=>{if(T==="pending")return(0,t.jsx)(S.y,{size:M.Y.SMALL});let m;switch(H){case l.w.Contract:case l.w.RegisterToken:case l.w.TrustLine:case l.w.Approve:case l.w.Revoke:m=(0,t.jsx)(E.p,{width:24,height:24,colorClass:"text-iconNormal"});break;case l.w.Receive:m=(0,t.jsx)(f.Z,{width:20,height:20,colorClass:"text-iconNormal"});break;case l.w.Send:m=(0,t.jsx)(R.s,{width:20,height:20,colorClass:"text-iconNormal"});break;case l.w.Swap:case l.w.Trade:m=(0,t.jsx)(h.f,{width:20,height:20,colorClass:"text-iconNormal"});break;case l.w.Delegate:case l.w.Undelegate:case l.w.Redelegate:case l.w.Claim:case l.w.ClaimRewards:m=(0,t.jsx)(x.S,{width:20,height:20,colorClass:"text-iconNormal"});break;default:m=(0,t.jsx)(p.S,{width:20,height:20,colorClass:"text-iconNormal"})}return(0,t.jsx)("div",{className:"flex w-full justify-center items-center h-full bg-bg3 rounded-full",children:m})}}),30081:((N,j,s)=>{s.d(j,{p:()=>p});var t=s(74848);const x=24,f=24,p=({width:E,height:M,colorClass:S})=>(0,t.jsx)("svg",{className:S,fill:"none",width:E??x,height:M??f,viewBox:`0 0 ${x} ${f}`,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.0561 2.62763C4.45795 2.22576 5.00301 2 5.57132 2H14.857C15.0465 2 15.2282 2.07525 15.3621 2.20921L20.3622 7.20921C20.496 7.34316 20.5713 7.52484 20.5713 7.71429V19.8571C20.5713 20.4254 20.3456 20.9706 19.9438 21.3724C19.5419 21.7743 18.9968 22 18.4285 22H5.57132C5.003 22 4.45795 21.7743 4.0561 21.3724C3.65424 20.9706 3.42847 20.4254 3.42847 19.8571V4.14286C3.42847 3.57454 3.65424 3.02949 4.0561 2.62763ZM8.42847 7.53571C7.93535 7.53571 7.53561 7.93546 7.53561 8.42857C7.53561 8.92169 7.93535 9.32143 8.42847 9.32143H11.2856C11.7787 9.32143 12.1785 8.92169 12.1785 8.42857C12.1785 7.93546 11.7787 7.53571 11.2856 7.53571H8.42847ZM8.42847 11.8214C7.93535 11.8214 7.53561 12.2212 7.53561 12.7143C7.53561 13.2074 7.93535 13.6071 8.42847 13.6071H15.5713C16.0644 13.6071 16.4642 13.2074 16.4642 12.7143C16.4642 12.2212 16.0644 11.8214 15.5713 11.8214H8.42847ZM7.53561 17C7.53561 16.5069 7.93535 16.1071 8.42847 16.1071H15.5713C16.0644 16.1071 16.4642 16.5069 16.4642 17C16.4642 17.4931 16.0644 17.8929 15.5713 17.8929H8.42847C7.93535 17.8929 7.53561 17.4931 7.53561 17Z",fill:"currentColor"})})}),62923:((N,j,s)=>{s.r(j),s.d(j,{default:()=>Ct});var t=s(74848),x=s(26264),f=s(4800),p=s(6442),E=s(47767),M=s(80179),S=s(2454),l=s(64145),h=s(96540),R=s(14948),L=s(15972),T=s(59754),H=s(68157),m=s(44657);const Q="https://support.trustwallet.com/en/support/solutions/articles/67000632070-what-are-network-fees-";var w=(e=>(e.LOW="text-primary",e.MEDIUM="text-textBrand",e.HIGH="text-error",e))(w||{});const X={"text-primary":{dark:"#48FF91",light:"#0500ff"},"text-textBrand":{dark:"#F0B90B",light:"#C99400"},"text-error":{dark:"#E33B54",light:"#E33B54"}};var G=(e=>(e[e.Coin=m.wL.Send]="Coin",e[e.Token=m.wL.Send]="Token",e[e.Swap=m.wL.Swap]="Swap",e[e.Dapp=m.wL.Contract]="Dapp",e))(G||{}),q=s(86170);function _(e){const n=(0,H.GV)(y=>y.sdkFeatures.gasStation),[a,o]=(0,h.useState)("text-primary"),{currency:d}=(0,q.P)();(0,h.useEffect)(()=>{e&&l.YW.emit(R.A.GAS_STATION,{action:L.Y.INITIATE,params:{assetId:e,currency:d}})},[e]),(0,h.useEffect)(()=>{if(n?.isSuccess)switch(n?.status){case"Low":o(w.LOW);break;case"Medium":o(w.MEDIUM);break;case"High":o(w.HIGH);break}},[n]);function v(){l.YW.emit(R.A.GAS_STATION,{action:L.Y.CLOSE})}return(0,T.A)(v),(0,h.useMemo)(()=>({gasStationState:n,gasStatusColor:a}),[n,a])}var I=s(66118),tt=s(44731),et=s(5638),st=s(51335),nt=s(28898),K=(e=>(e.INITIATE="initiate",e.UPDATE="update",e.CLOSE="close",e))(K||{}),at=s(2543),ot=Object.defineProperty,F=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,$=(e,n,a)=>n in e?ot(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,rt=(e,n)=>{for(var a in n||(n={}))it.call(n,a)&&$(e,a,n[a]);if(F)for(var a of F(n))lt.call(n,a)&&$(e,a,n[a]);return e};I.t1.register(I.PP,I.ZT,I.No,I.kc,I.FN,I.dN,et.A);const ct=({history:e,lowestLowFormatted:n,highestHighFormatted:a,gasStatusColor:o})=>{const[d,v]=(0,h.useState)(null),y=(0,h.useRef)(null),{theme:V}=(0,nt.h)(),Z=(0,h.useRef)(void 0),b=Math.min(...e.yAxis),k=Math.max(...e.yAxis),Y=e.yAxis.indexOf(b),z=e.yAxis.indexOf(k),J=u=>{switch(u){case e.xAxis.length-1:return-14;case 0:return 14;default:return 0}},jt={plugins:{legend:{display:!1},title:{display:!0},tooltip:{enabled:!1},annotation:{clip:!1,annotations:{high:{type:"label",xValue:e.xAxis[z],yValue:k,color:"#848e9c",font:{size:12},content:[a],position:"center",yAdjust:-15,xAdjust:()=>J(z)},low:{type:"label",xValue:e.xAxis[Y],yValue:b,color:"#848e9c",font:{size:12},content:[n],position:"center",yAdjust:15,xAdjust:()=>J(Y)}}}},interaction:{mode:"index",intersect:!1},scales:{x:{display:!1},y:{display:!1}},elements:{point:{radius:0,hoverRadius:0}},layout:{padding:{top:20,bottom:20}}},Et=(0,h.useMemo)(()=>[{id:"intersect-x-line",afterDraw:u=>{if(u.getActiveElements().length){const i=u.ctx,A=u.chartArea,C=u.data.datasets[0].borderColor,O=u.data.datasets[0].backgroundColor,D=u.getActiveElements()[0];v(D),i.save(),i.beginPath(),i.moveTo(D.element.x,A.top),i.lineTo(D.element.x,A.bottom),i.lineWidth=1,i.setLineDash([3,3]),i.strokeStyle=C,i.stroke(),i.restore(),i.beginPath(),i.arc(D.element.x,D.element.y,5,0,2*Math.PI),i.fillStyle=C,i.fill(),i.lineWidth=2,i.strokeStyle=O,i.stroke(),i.restore();return}v(null)}}],[]),P=(0,h.useCallback)((0,at.debounce)(u=>{l.YW.emit(R.A.GAS_STATION,{action:K.UPDATE,params:{index:u}})},100),[]),W=(0,h.useCallback)(u=>{Z.current=u,P(u)},[P]);(0,h.useEffect)(()=>{d?.index!==Z.current&&(d?.index!==void 0?W(d.index):d===null&&W(e.xAxis.length-1))},[d,W]),(0,h.useEffect)(()=>()=>{P.cancel()},[P]);const It=(0,h.useMemo)(()=>{function u(i,A){const C=i.createLinearGradient(0,A.bottom,0,A.top);return C.addColorStop(1,"rgba(14, 203, 129, 0.25)"),C.addColorStop(0,"rgba(255, 246, 210, 0)"),C.addColorStop(0,"rgba(14, 203, 129, 0)"),C}return{labels:e.xAxis,datasets:[{data:e?.yAxis,fill:!0,borderColor:X[o][V],backgroundColor:function(i){const A=i.chart,{ctx:C,chartArea:O}=A;if(O)return u(C,O)},tension:.4}]}},[e,o,V]);return(0,t.jsx)(tt.N1,{ref:y,data:It,options:jt,plugins:Et})},dt=e=>e?.history?(0,t.jsx)(ct,rt({},e)):(0,t.jsx)(st.E,{isLoading:!0,children:(0,t.jsx)("div",{className:"w-full h-[200px]"})});var c=s(52114),U=s(152),B=s(32669),r=s(1279),g=s(48346);const ht=({low:e,medium:n,high:a})=>{const{formatMessage:o}=(0,p.A)();return(0,t.jsxs)("div",{className:"flex space-x-4 text-center",children:[(0,t.jsxs)(U.Z,{theme:B.R.TRANSPARENT,children:[(0,t.jsx)(c.E,{theme:r.Il.PRIMARY,children:o({id:"gas-station.fast",defaultMessage:"Fast"})}),(0,t.jsx)(g.S,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!a,children:(0,t.jsx)(c.E,{theme:r.Il.SECONDARY,children:a?.price})}),(0,t.jsx)(g.S,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!a,children:(0,t.jsxs)(c.E,{theme:r.Il.THIRD,children:[a?.time," ",o({id:`gas-station.minute${a?.time!=="1"?"s":""}`,defaultMessage:`Minute${a?.time!=="1"?"s":""}`})]})})]}),(0,t.jsxs)(U.Z,{theme:B.R.TRANSPARENT,children:[(0,t.jsx)(c.E,{theme:r.Il.PRIMARY,children:o({id:"gas-station.average",defaultMessage:"Average"})}),(0,t.jsx)(g.S,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!n,children:(0,t.jsx)(c.E,{theme:r.Il.SECONDARY,children:n?.price})}),(0,t.jsx)(g.S,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!n,children:(0,t.jsxs)(c.E,{theme:r.Il.THIRD,children:[n?.time," ",o({id:`gas-station.minute${n?.time!=="1"?"s":""}`,defaultMessage:`Minute${n?.time!=="1"?"s":""}`})]})})]}),(0,t.jsxs)(U.Z,{theme:B.R.TRANSPARENT,children:[(0,t.jsx)(c.E,{theme:r.Il.PRIMARY,children:o({id:"gas-station.safe",defaultMessage:"Safe"})}),(0,t.jsx)(g.S,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!e,children:(0,t.jsx)(c.E,{theme:r.Il.SECONDARY,children:e?.price})}),(0,t.jsx)(g.S,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!e,children:(0,t.jsxs)(c.E,{theme:r.Il.THIRD,children:[e?.time," ",o({id:`gas-station.minute${e?.time!=="1"?"s":""}`,defaultMessage:`Minute${e?.time!=="1"?"s":""}`})]})})]})]})},ut=({currentGraphPrice:e,currentGraphValue:n,gasUnit:a,status:o,gasStatusColor:d})=>{const{formatMessage:v}=(0,p.A)(),y=!e||!n||!o;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.E,{type:r.jK.CAPTION,theme:r.Il.THIRD,children:v({id:"gas-station.heading",defaultMessage:"Gas cost"})}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex-col",children:[(0,t.jsx)(g.S,{widthClass:"w-22.5",heightClass:"h-9",marginClass:"mb-2",isLoading:y,children:(0,t.jsx)(c.E,{type:r.jK.SCREAMER,children:e})}),(0,t.jsx)(g.S,{widthClass:"w-22.5",heightClass:"h-4",children:(0,t.jsxs)(c.E,{type:r.jK.SUBTITLE,theme:r.Il.THIRD,children:[n," ",a]})})]}),(0,t.jsx)("span",{className:`inline-block h-full caption-text px-8 py-3 font-medium rounded bg-backgroundSecondary ${d}`,children:(0,t.jsx)(g.S,{widthClass:"w-7",heightClass:"h-5",isLoading:y,children:v({id:`gas-station-badge.${o}`,defaultMessage:o?.toUpperCase()})})})]})]})};var mt=s(25708);const xt=({range:e,fiatRange:n,type:a})=>{const{formatMessage:o}=(0,p.A)(),d={Dapp:"Dapp Interaction",Coin:"Transfer",Token:"Transfer",Swap:"Swap"};return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2.5",children:[(0,t.jsx)("div",{className:"flex w-7.5 h-7.5 justify-center items-center",children:(0,t.jsx)(mt.A,{status:"confirmed",type:G[a]})}),(0,t.jsx)(c.E,{testid:"tx-type",children:o({id:`component.transaction-item.type.${a}`,defaultMessage:d[a]})})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)(c.E,{children:e}),(0,t.jsx)(c.E,{theme:r.Il.THIRD,type:r.jK.CAPTION,children:n})]})]})},gt=({txs:e})=>{const{formatMessage:n}=(0,p.A)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(c.E,{type:r.jK.CAPTION,theme:r.Il.THIRD,children:n({id:"gas-station.estimates.heading",defaultMessage:"Estimated transaction cost"})})}),e?.map(a=>(0,t.jsx)(xt,{range:a.range,fiatRange:a.fiatRange,type:a.type},a.type)),!e&&(0,t.jsx)(g.S,{heightClass:"h-8"})]})};var ft=s(55418),pt=s(79830),vt=s(68632);const Ct=()=>{const{assetId:e}=(0,E.g)(),n=(0,E.Zp)(),{formatMessage:a}=(0,p.A)(),{gasStationState:o,gasStatusColor:d}=_(e),v=(0,t.jsx)("div",{className:"cursor-pointer",onClick:()=>(0,M.kK)(Q),children:(0,t.jsx)(S.m,{height:16,width:16})});return o?.isSuccess?(0,t.jsxs)(f.LN,{children:[(0,t.jsx)(f.zY,{title:a({id:"gas-station.header",defaultMessage:"Gas Station"}),backAction:()=>n(`${x.b.ASSET}/${e}`),infoAction:v}),(0,t.jsx)(f.Gv,{children:(0,t.jsx)(f.LO,{children:(0,t.jsxs)("div",{className:"flex-col space-y-4 my-2.5 justify-center",children:[(0,t.jsx)(ut,{currentGraphPrice:o.currentGraphPrice,currentGraphValue:o.currentGraphValue,gasUnit:o.energyUnit,status:o.status,gasStatusColor:d}),(0,t.jsx)(dt,{history:o.history,gasStatusColor:d,lowestLowFormatted:o.minGraphPrice,highestHighFormatted:o.maxGraphPrice}),(0,t.jsx)(ht,{low:o.low,medium:o.medium,high:o.high}),(0,t.jsx)(gt,{txs:o.txs})]})})})]}):(0,t.jsx)(ft.o,{children:(0,t.jsx)(pt.y,{size:vt.Y.XLARGE})})}})}]);
