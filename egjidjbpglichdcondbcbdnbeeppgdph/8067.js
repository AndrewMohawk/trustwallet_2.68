"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[8067],{27328:((k,S,l)=>{l.d(S,{At:()=>I,JS:()=>M,O4:()=>g});var t=l(68157);function M({asArray:n=!1}={}){const v=(0,t.GV)(C=>C.wallet.addressBook);return n?Object.values(v):v}function g(n){return(0,t.GV)(C=>C.wallet.addressBook)[n]}function I(n){const v=M({asArray:!0});return n?v.filter(C=>C.addresses[n]):v}}),27409:((k,S,l)=>{l.d(S,{X:()=>I});var t=l(74848);const M=24,g=24,I=({width:n,height:v,colorClass:C="text-primary"})=>(0,t.jsx)("svg",{className:C,fill:"none",width:n??M,height:v??g,viewBox:`0 0 ${M} ${g}`,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.35714 4.92868C3.35714 3.62686 4.41247 2.57153 5.71429 2.57153H16.7143C18.0161 2.57153 19.0714 3.62686 19.0714 4.92868V19.0715C19.0714 20.3733 18.0161 21.4287 16.7143 21.4287H5.71429C4.41247 21.4287 3.35714 20.3733 3.35714 19.0715V17.893H2.17857C1.52766 17.893 1 17.3653 1 16.7144C1 16.0635 1.52766 15.5358 2.17857 15.5358H3.35714V13.1787H2.17857C1.52766 13.1787 1 12.651 1 12.0001C1 11.3492 1.52766 10.8215 2.17857 10.8215H3.35714V8.46439H2.17857C1.52766 8.46439 1 7.93672 1 7.28582C1 6.63492 1.52766 6.10725 2.17857 6.10725H3.35714V4.92868ZM23 5.71439C23 5.06349 22.4723 4.53582 21.8214 4.53582C21.1705 4.53582 20.6429 5.06349 20.6429 5.71439V7.28582C20.6429 7.93672 21.1705 8.46439 21.8214 8.46439C22.4723 8.46439 23 7.93672 23 7.28582V5.71439ZM21.8214 10.0358C22.4723 10.0358 23 10.5635 23 11.2144V12.7858C23 13.4367 22.4723 13.9644 21.8214 13.9644C21.1705 13.9644 20.6429 13.4367 20.6429 12.7858V11.2144C20.6429 10.5635 21.1705 10.0358 21.8214 10.0358ZM9.25 7.08939C8.70757 7.08939 8.26786 7.52911 8.26786 8.07153C8.26786 8.61396 8.70757 9.05368 9.25 9.05368H13.1786C13.721 9.05368 14.1607 8.61396 14.1607 8.07153C14.1607 7.52911 13.721 7.08939 13.1786 7.08939H9.25Z",fill:"currentColor"})})}),34025:((k,S,l)=>{l.d(S,{R:()=>I});var t=l(74848);const M=24,g=24,I=({width:n,height:v,colorClass:C})=>(0,t.jsx)("svg",{className:C,fill:"none",width:n??M,height:v??g,viewBox:`0 0 ${M} ${g}`,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2323 4.87509C10.7011 4.40624 11.337 4.14286 12.0001 4.14286C12.6631 4.14286 13.299 4.40624 13.7678 4.87509C14.0641 5.17133 14.2783 5.53424 14.3959 5.92857H9.60428C9.72186 5.53424 9.93607 5.17133 10.2323 4.87509ZM7.41247 5.92857C7.563 4.96173 8.01654 4.06039 8.71707 3.35986C9.58778 2.48916 10.7687 2 12.0001 2C13.2314 2 14.4124 2.48916 15.2831 3.35986C15.9836 4.06039 16.4372 4.96173 16.5876 5.92857H20.2144C20.8061 5.92857 21.2858 6.40827 21.2858 7C21.2858 7.59173 20.8061 8.07143 20.2144 8.07143H19.1429V19.8571C19.1429 20.4254 18.9172 20.9706 18.5154 21.3724C18.1135 21.7743 17.5684 22 17.0001 22H7.00007C6.43174 22 5.8867 21.7743 5.48484 21.3724C5.08298 20.9706 4.85721 20.4254 4.85721 19.8571V8.07143H3.78578C3.19405 8.07143 2.71436 7.59173 2.71436 7C2.71436 6.40827 3.19405 5.92857 3.78578 5.92857H7.41247ZM9.50007 10.3949C9.99318 10.3949 10.3929 10.7947 10.3929 11.2878V17.0043C10.3929 17.4973 9.99318 17.8971 9.50007 17.8971C9.00696 17.8971 8.60721 17.4973 8.60721 17.0043V11.2878C8.60721 10.7947 9.00696 10.3949 9.50007 10.3949ZM15.3929 11.2878C15.3929 10.7947 14.9932 10.3949 14.5001 10.3949C14.007 10.3949 13.6072 10.7947 13.6072 11.2878V17.0043C13.6072 17.4973 14.007 17.8971 14.5001 17.8971C14.9932 17.8971 15.3929 17.4973 15.3929 17.0043V11.2878Z",fill:"currentColor"})})}),71431:((k,S,l)=>{l.d(S,{F:()=>us,J:()=>T});var t=l(74848),M=l(22146),g=l(76493),I=l(69275),n=l(96540),v=l(6442),C=l(27328),ee=l(92949),O=l(52114),w=l(16665),h=l(1279);const K=24,Z=24,G=({width:e,height:s,colorClass:a})=>(0,t.jsx)("svg",{className:a,fill:"none",width:e??K,height:s??Z,viewBox:`0 0 ${K} ${Z}`,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 17.5229 17.5229 22 12 22C6.47716 22 2 17.5229 2 12C2 6.47716 6.47716 2 12 2C17.5229 2 22 6.47716 22 12ZM12 6.64286C12.5917 6.64286 13.0714 7.12256 13.0714 7.71429V10.9286H16.2857C16.8774 10.9286 17.3571 11.4083 17.3571 12C17.3571 12.5917 16.8774 13.0714 16.2857 13.0714H13.0714V16.2857C13.0714 16.8774 12.5917 17.3571 12 17.3571C11.4083 17.3571 10.9286 16.8774 10.9286 16.2857V13.0714H7.71429C7.12256 13.0714 6.64286 12.5917 6.64286 12C6.64286 11.4083 7.12256 10.9286 7.71429 10.9286H10.9286V7.71429C10.9286 7.12256 11.4083 6.64286 12 6.64286Z",fill:"currentColor"})});var z=l(10537),_=l(94893),V=l(65504),$=l(68632),J=l(50784),D=l(41327);function W(e,s,a){return(0,n.useMemo)(()=>{const r=!s.includes(e);return{isValid:r,error:r?void 0:a}},[e,s,a])}var R=l(40053),se=Object.defineProperty,H=Object.defineProperties,je=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,ue=(e,s,a)=>s in e?se(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,Ie=(e,s)=>{for(var a in s||(s={}))Oe.call(s,a)&&ue(e,a,s[a]);if(ce)for(var a of ce(s))De.call(s,a)&&ue(e,a,s[a]);return e},ye=(e,s)=>H(e,je(s));function Se({name:e,addresses:s,editedWallet:a,setName:r,onAddAddress:u,onSelectAddress:m}){const{formatMessage:i}=(0,v.A)(),c=(0,z.n)(!0),d=(0,C.JS)({asArray:!0}),o=(0,n.useMemo)(()=>Object.entries(s).map(([f,E])=>{const p=c.find(L=>L.coinId.toString()===f);return ye(Ie({},E),{blockchain:p})}),[s,c]),A=W(e,d.filter(f=>f.id!==a?.id).map(f=>f.name),i({id:"new-address-book-wallet.name-input.error",defaultMessage:"Name already exists"}));return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(w.S,{label:i({id:"new-address-book-wallet.name-input.label",defaultMessage:"Name"}),placeholder:i({id:"new-address-book-wallet.name-input.placeholder",defaultMessage:"Enter wallet name"}),value:e,validation:A,testid:"new-address-book-wallet-name-input",onChange:f=>r(f.target.value)}),(0,t.jsxs)("div",{className:"flex flex-col",children:[o.map(({address:f,blockchain:E})=>{var p;return(0,t.jsx)(_.c,{testid:`new-address-book-wallet-address-${E.id}`,onClick:()=>{m(E)},children:(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)(V.q,{name:E.name,size:$.Y.SMALL,src:E.iconUrl}),(0,t.jsxs)("div",{className:"pl-2 flex flex-col",children:[(0,t.jsx)(O.E,{type:h.jK.SUBTITLE,weight:h.nG.BOLD,theme:h.Il.PRIMARY,children:(p=E.displayName)!=null?p:E.name}),(0,t.jsx)(O.E,{type:h.jK.CAPTION,weight:h.nG.NORMAL,theme:h.Il.SECONDARY,children:f.length>59?(0,R.p)({value:f,maxCharsPerSide:20}):f})]}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)(D.v,{colorClass:"text-textThird"})})]})},E.id)}),!!o.length&&(0,t.jsx)(J.c,{}),(0,t.jsx)(_.c,{testid:"add-address-button",onClick:u,children:(0,t.jsxs)("div",{className:"flex items-center cursor-pointer gap-3 mb-6",children:[(0,t.jsx)(G,{width:20,height:20,colorClass:"text-primary"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(O.E,{type:h.jK.TITLE,theme:h.Il.BRAND,children:i({id:"new-address-book-wallet.add-button.title",defaultMessage:"Add Address"})}),(0,t.jsx)(O.E,{type:h.jK.CAPTION,theme:h.Il.SECONDARY,children:i({id:"new-address-book-wallet.add-button.subtitle",defaultMessage:"Select an asset and add its corresponding address."})})]})]})})]})]})}var Ne=l(50882),Pe=l(9302),Le=l(29251),Be=l(33055);function We({walletAddresses:e,setBlockchain:s}){const{formatMessage:a}=(0,v.A)(),r=(0,I.o)(),u=(0,Be.A)(),[m,i]=(0,n.useState)(""),c=(0,z.n)(!0),d=(0,n.useMemo)(()=>c.filter(o=>{var A;if(Object.keys(e).includes(o.coinId.toString())||u.type===Le.S.PRIVATE_KEY&&!r[o.coinId])return!1;const f=m.toLowerCase();return o.name.toLowerCase().includes(f)||((A=o.displayName)==null?void 0:A.toLowerCase().includes(f))||o.symbol.toLowerCase().includes(f)}),[c,e,m]);return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(w.S,{value:m,placeholder:a({id:"blockchain-list.search.placeholder",defaultMessage:"Search"}),testid:"blockchain-list-search-input",autoFocus:!0,onChange:o=>i(o.target.value)}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[d.map(o=>{var A,f;return(0,t.jsx)(_.c,{testid:`blockchain-list-item-${o.id}`,onClick:()=>{s(o)},children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{children:(0,t.jsx)(V.q,{name:o.name,size:$.Y.SMALL,src:o.iconUrl})}),(0,t.jsxs)("div",{className:"pl-2 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)(O.E,{testid:`blockchain-list-item-symbol-${o.id}`,type:h.jK.SUBTITLE,weight:h.nG.BOLD,theme:h.Il.PRIMARY,children:o.symbol}),(0,t.jsx)(Ne.E,{text:(A=o.displayName)!=null?A:o.name})]}),(0,t.jsx)(O.E,{testid:`blockchain-list-item-name-${o.id}`,type:h.jK.CAPTION,weight:h.nG.NORMAL,theme:h.Il.SECONDARY,children:(f=o.displayName)!=null?f:o.name})]})]})},o.id)}),!d.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4 my-6",children:[(0,t.jsx)(Pe.x,{}),(0,t.jsx)(O.E,{children:a({id:"blockchain-list.no-blockchains-found",defaultMessage:"No results were found"})})]})]})]})}var Re=l(75395),me=l(64145),fe=l(22670),we=l(40790),ve=l(51594),Ae=(e,s,a)=>new Promise((r,u)=>{var m=d=>{try{c(a.next(d))}catch(o){u(o)}},i=d=>{try{c(a.throw(d))}catch(o){u(o)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(m,i);c((a=a.apply(e,s)).next())});const Ve=e=>Ae(null,[e],function*({value:s,blockchain:a}){let r=!1;try{s&&(r=yield me.YW.emit(fe.A.VALIDATE_ADDRESS,{address:s,network:a}))}catch{r=!1}return{isValid:r}}),He=({value:e,blockchain:s,bypassAddressMatch:a})=>{var r;const{formatMessage:u}=(0,v.A)(),m=(0,we.F7)(s.coinId),i=(0,Re.L)(s.blockchain),c=(0,n.useMemo)(()=>{var E;return(E=m?.address)!=null?E:i},[m,i]),d=e&&c&&!a&&(0,ve.normalize)(e.trim())===(0,ve.normalize)((r=c?.trim())!=null?r:""),[o,A]=(0,n.useState)({isValid:!1});(0,n.useEffect)(()=>{let E=!1;return Ae(null,null,function*(){const{isValid:p}=yield Ve({value:e,blockchain:s});E||A({isValid:p&&!d})}),()=>{E=!0}},[s,e]);const f=(0,n.useMemo)(()=>{if(!o.isValid)return u({id:`validate-address.${d?"receiver-matches-sender":"generic"}`})},[u,o]);return{isValid:o.isValid,error:f}};var te=l(65512),Ue=l(80772);const be=e=>e===""||/^[0-9]+$/.test(e),ke=e=>{const{formatMessage:s}=(0,v.A)(),[a,r]=(0,n.useState)({isValid:!1}),[u,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const c=be(e),d=parseInt(e)>=0&&parseInt(e)<=4294967295;m(c),r({isValid:c&&d})},[e]);const i=(0,n.useMemo)(()=>{if(!a.isValid)return s({id:u?"validate-tag.in-range":"validate-tag.all-numbers",defaultMessage:u?"Destination Tag must be between 0 and 4294967295":"Destination Tag must be a number"})},[s,a]);return{isValid:a.isValid,error:i}};var Ke=(e,s,a)=>new Promise((r,u)=>{var m=d=>{try{c(a.next(d))}catch(o){u(o)}},i=d=>{try{c(a.throw(d))}catch(o){u(o)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(m,i);c((a=a.apply(e,s)).next())});function Ge({selectedBlockchain:e,addressAndMemo:s,setAddressAndMemo:a}){var r,u;const{formatMessage:m}=(0,v.A)(),[i,c]=(0,n.useState)((r=s?.address)!=null?r:""),[d,o]=(0,n.useState)((u=s?.memo)!=null?u:""),[A,f]=(0,n.useState)(!1),E=(0,Ue.wl)({blockchainId:e.id});(0,n.useEffect)(()=>{function N(){return Ke(this,null,function*(){const B=yield me.YW.emit(fe.A.SUPPORTS_MEMO,e.id);f(B)})}N()},[e]);const p=He({value:i,blockchain:e,bypassAddressMatch:!0}),L=ke(d);return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(w.S,{label:m({id:"address-and-memo-input.address.label",defaultMessage:"Address or Domain Name"}),placeholder:m({id:"address-and-memo-input.address.placeholder",defaultMessage:`${e.symbol} Address`},{symbol:e.symbol}),testid:"address-and-memo-input.address-input",autoFocus:!0,validation:p,value:i,onChange:N=>c(N.target.value)}),(A||E)&&(0,t.jsx)(w.S,{label:m({id:A?"address-and-memo-input.memo.label":"address-and-memo-input.tag.label",defaultMessage:A?"Memo":"Destination Tag"}),placeholder:m({id:A?"address-and-memo-input.memo.placeholder":"address-and-memo-input.tag.placeholder",defaultMessage:A?"Memo":"Destination Tag"}),value:d,validation:E&&d?L:void 0,testid:"address-and-memo-input.memo-tag-input",onChange:N=>o(N.target.value)}),(0,t.jsx)(te.$,{disabled:!p.isValid,onClick:()=>a({address:i,memo:d}),testid:"address-and-memo-input.done-button",children:m({id:"address-and-memo-input.button.label",defaultMessage:"Done"})})]})}var _e=l(52619);function $e({showCancelConfirmationModal:e,setShowCancelConfirmationModal:s,discardChanges:a}){const{formatMessage:r}=(0,v.A)();return(0,t.jsx)(M.a,{title:r({id:"cancel-confirmation-modal.title",defaultMessage:"Are you sure you want to discard your changes?"}),size:$.Y.SMALL,opened:e,hideCloseIcon:!0,centerTitle:!0,onClose:()=>s(!1),children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(te.$,{theme:_e.ry.DANGER_TRANSPARENT,onClick:a,children:r({id:"address-book-modal.cancel-confirmation.discard",defaultMessage:"Discard Changes"})}),(0,t.jsx)(te.$,{onClick:()=>{s(!1)},children:r({id:"address-book-modal.cancel-confirmation.keep-editing",defaultMessage:"Keep Editing"})})]})})}var Fe=l(69666),U=l(23350),Ye=l(49786),Ze=l(88774),ae=l(68157),Ee=l(48305),F=l(29584),ze=l(23207),pe=l(34025),Je=Object.defineProperty,he=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ce=(e,s,a)=>s in e?Je(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,qe=(e,s)=>{for(var a in s||(s={}))Qe.call(s,a)&&Ce(e,a,s[a]);if(he)for(var a of he(s))Xe.call(s,a)&&Ce(e,a,s[a]);return e};function es(e,s,a,r,u,m,i,c,d,o,A,f){const{trackAnalytics:E}=(0,ze.s)(),[p,L]=(0,n.useState)(!1),N=()=>{var j;if(p)return;L(!0);const X={id:(j=A?.id)!=null?j:crypto.randomUUID(),name:s,addresses:a};ae.M_.dispatch(Ee.u.actions.setAddressBookWallet(X)),E({event:F.BQ.SAVE_ADDRESS_BOOK_WALLET,props:{pageViewSource:r?F.Un.SEND_ADDRESS_BOOK:F.Un.SETTINGS_ADDRESS_BOOK}}),r?i(T.SELECT_WALLET):o(),L(!1)},B=()=>{ae.M_.dispatch(Ee.u.actions.removeAddressBookWallet(A.id)),o()},Q=()=>{const j=qe({},a);delete j[f.coinId],d(j),i(T.NEW_WALLET)},y=()=>{e===T.NEW_WALLET?m?c(!0):r?i(T.SELECT_WALLET):o():e===T.INPUT_ADDRESS_AND_MEMO&&u?i(T.NEW_WALLET):i(e-1)};return(0,n.useMemo)(()=>{const j=[];switch(e){case T.SELECT_WALLET:j.push({key:"done-action",buttonElement:(0,t.jsx)(O.E,{theme:h.Il.BRAND,children:"Done"}),placement:U.l1.RIGHT,onClick:o},{key:"add-wallet-action",buttonElement:(0,t.jsx)(Fe.c,{colorClass:"text-primary"}),placement:U.l1.RIGHT,onClick:()=>i(T.NEW_WALLET)});break;case T.NEW_WALLET:A&&j.push({key:"delete-wallet-action",buttonElement:(0,t.jsx)(pe.R,{width:20,height:20,colorClass:"text-error"}),placement:U.l1.RIGHT,onClick:B}),j.push({key:"add-new-wallet-action",buttonElement:(0,t.jsx)(Ze.S,{width:20,height:20,colorClass:"text-primary"}),disabled:!s||!Object.values(a).length,placement:U.l1.RIGHT,onClick:N});break;case T.INPUT_ADDRESS_AND_MEMO:j.push({key:"delete-wallet-action",buttonElement:(0,t.jsx)(pe.R,{width:20,height:20,colorClass:"text-error"}),placement:U.l1.RIGHT,onClick:Q});break}return e>0&&j.push({key:"back-action",buttonElement:(0,t.jsx)(Ye.A,{colorClass:"text-textThird"}),placement:U.l1.LEFT,onClick:y}),j},[e,s,a])}function ss(e,s){return(0,n.useMemo)(()=>{switch(e){case T.SELECT_WALLET:return{id:"address-book-modal.title",defaultMessage:"Address Book"};case T.NEW_WALLET:return{id:"address-book-modal.add-wallet.title",defaultMessage:"Wallet Address"};case T.SELECT_ASSET:return{id:"address-book-modal.select-asset.title",defaultMessage:"Select Asset"};case T.INPUT_ADDRESS_AND_MEMO:return s?{id:"address-book-modal.edit-address-and-memo.title",defaultMessage:"Edit"}:{id:"address-book-modal.input-address-and-memo.title",defaultMessage:"Add Address"};default:return{id:"",defaultMessage:"Header config missing"}}},[e])}var ts=l(63369),as=l(9389),ls=Object.defineProperty,ns=Object.defineProperties,os=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertySymbols,ds=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,Me=(e,s,a)=>s in e?ls(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,is=(e,s)=>{for(var a in s||(s={}))ds.call(s,a)&&Me(e,a,s[a]);if(xe)for(var a of xe(s))rs.call(s,a)&&Me(e,a,s[a]);return e},cs=(e,s)=>ns(e,os(s)),T=(e=>(e[e.SELECT_WALLET=0]="SELECT_WALLET",e[e.NEW_WALLET=1]="NEW_WALLET",e[e.SELECT_ASSET=2]="SELECT_ASSET",e[e.INPUT_ADDRESS_AND_MEMO=3]="INPUT_ADDRESS_AND_MEMO",e))(T||{});function us({isOpened:e,coinId:s,editedWalletId:a,step:r,onClose:u}){var m,i,c,d;const{formatMessage:o}=(0,v.A)(),{wallets:A}=(0,g.S)(),f=(0,I.o)(),E=(0,C.At)(s),p=(0,C.O4)(a),L=(0,as.Cb)(),N=(0,ae.GV)(x=>x.wallet.accountsPerWallet),B=(0,n.useRef)(!1),Q=(0,n.useRef)(!1),[y,P]=(0,n.useState)(r??0),[j,X]=(0,n.useState)((m=p?.name)!=null?m:""),[b,le]=(0,n.useState)((i=p?.addresses)!=null?i:{}),[ne,oe]=(0,n.useState)(),[ms,de]=(0,n.useState)(),[ge,q]=(0,n.useState)(!1),fs=(0,n.useMemo)(()=>A.flatMap(x=>{const Y=N[x.id];return Object.values(Y).map(ie=>({id:ie.id,name:ie.name,addresses:ie.items,parentName:x.name,walletId:x.id,walletName:x.name}))}),[]),vs=[...(0,n.useMemo)(()=>fs.filter(x=>x.id!==L),[A,f]),...E],re=!!s,Te=((c=p?.name)!=null?c:"")!==j||JSON.stringify((d=p?.addresses)!=null?d:{})!==JSON.stringify(b);(0,ts.K)({event:re?F.Un.SEND_ADDRESS_BOOK:F.Un.SETTINGS_ADDRESS_BOOK,props:null}),(0,n.useEffect)(()=>()=>P(0),[]),(0,n.useEffect)(()=>{y<3&&(B.current=!1),y===1&&de(void 0),y===0&&(X(""),le({}),oe(void 0),de(void 0))},[y]);const As=es(y,j,b,re,B.current,Te,P,q,le,u,p,ne),Es=ss(y,B.current),ps=x=>{const Y=x.addresses[s];u(Y)},hs=x=>{oe(x),P(3)},Cs=x=>{const Y=cs(is({},b),{[ne.coinId]:x});le(Y),P(1)},xs=x=>{oe(x),de(b[x.coinId]),P(3),B.current=!0},Ms=()=>{(!re||Q.current)&&u(),q(!1),P(0)},gs=()=>{Te?(Q.current=!0,q(!0)):u()};return(0,t.jsxs)(M.a,{title:o(Es),opened:e,actions:As,hideCloseIcon:!0,centerTitle:!0,onClose:gs,children:[y===0&&(0,t.jsx)(ee.D,{wallets:vs,selectWallet:ps,addWallet:()=>P(1)}),y===1&&(0,t.jsx)(Se,{name:j,addresses:b,editedWallet:p,setName:X,onAddAddress:()=>P(2),onSelectAddress:xs}),y===2&&(0,t.jsx)(We,{walletAddresses:b,setBlockchain:hs}),y===3&&(0,t.jsx)(Ge,{selectedBlockchain:ne,addressAndMemo:ms,setAddressAndMemo:Cs}),ge&&(0,t.jsx)($e,{showCancelConfirmationModal:ge,setShowCancelConfirmationModal:q,discardChanges:Ms})]})}}),92949:((k,S,l)=>{l.d(S,{D:()=>Z});var t=l(74848),M=l(98005),g=l(52114),I=l(41327),n=l(6442),v=l(42463),C=l(65512),ee=l(52619),O=l(1279),w=l(94893),h=l(68157);const K="others";function Z({wallets:G,addWallet:z,selectWallet:_}){const{formatMessage:V}=(0,n.A)(),$=(0,h.GV)(D=>D.wallet.wallets),J=G.reduce((D,W)=>{const R=W.walletId||K;return D[R]||(D[R]=[]),D[R].push(W),D},{});return(0,t.jsxs)("div",{className:"flex flex-col gap-2 my-6",children:[Object.keys(J).map(D=>{var W;const R=J[D],se=D===K?V({id:"settings.address-book.contacts",defaultMessage:"Contacts"}):(W=$[D])==null?void 0:W.name;return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(g.E,{type:O.jK.HEADER_16,weight:O.nG.BOLD,children:se}),R.map(H=>(0,t.jsx)(w.c,{testid:`select-address-book-wallet-${H.id}`,onClick:()=>_(H),children:(0,t.jsxs)("div",{className:"flex items-center justify-between bg-bg3 p-4 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(M.l,{width:16,height:16,colorClass:"text-textThird"}),(0,t.jsx)(g.E,{children:H.name})]}),(0,t.jsx)(I.v,{colorClass:"text-textThird"})]})},H.id))]},D)}),!G?.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 my-6",children:[(0,t.jsx)(v.I,{}),(0,t.jsx)("div",{className:"flex text-center px-6",children:(0,t.jsx)(g.E,{type:O.jK.CAPTION,theme:O.Il.THIRD,children:V({id:"settings.address-book.no-wallets",defaultMessage:"Your contacts and their wallet addresses will appear here."})})}),(0,t.jsx)(C.$,{testid:"add-wallet-button",onClick:z,theme:ee.ry.BRAND,children:V({id:"settings.address-book.add-wallet",defaultMessage:"Add wallet address"})})]})]})}}),98005:((k,S,l)=>{l.d(S,{l:()=>I});var t=l(74848);const M=20,g=20,I=({width:n,height:v,colorClass:C})=>(0,t.jsxs)("svg",{className:C,fill:"none",width:n??M,height:v??g,viewBox:`0 0 ${M} ${g}`,xmlns:"http://www.w3.org/2000/svg",style:{paddingLeft:"1px"},children:[(0,t.jsx)("path",{d:"M16.495 4.75012H4.995C4.375 4.75012 3.875 5.25012 3.875 5.87012C3.875 6.49012 4.375 6.99012 4.995 6.99012H16.495C16.985 6.99012 17.375 7.38012 17.375 7.87012V16.1101C17.375 16.6001 16.975 16.9901 16.495 16.9901H3.505C3.015 16.9901 2.625 16.5901 2.625 16.1101V3.87012C2.625 3.39012 3.015 2.99012 3.495 2.99012H16.495C17.115 2.99012 17.615 2.49012 17.615 1.87012C17.615 1.25012 17.115 0.750122 16.495 0.750122H3.495C1.775 0.750122 0.375 2.15012 0.375 3.87012V16.1101C0.375 17.8401 1.785 19.2401 3.505 19.2401H16.495C18.225 19.2401 19.625 17.8401 19.625 16.1101V7.87012C19.625 6.15012 18.215 4.75012 16.495 4.75012Z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M14.6249 12.5001C15.2449 12.5001 15.7449 12.0001 15.7449 11.3801C15.7449 10.7601 15.2449 10.2601 14.6249 10.2601H12.3749C11.7549 10.2601 11.2549 10.7601 11.2549 11.3801C11.2549 12.0001 11.7549 12.5001 12.3749 12.5001H14.6249Z",fill:"currentColor"})]})})}]);
