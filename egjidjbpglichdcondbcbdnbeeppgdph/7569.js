"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[463,7569],{40463:((p,h,t)=>{t.r(h),t.d(h,{OriginParam:()=>g,default:()=>a});var n=t(74848),j=t(68305),v=t(68315),C=t(26264),P=t(63369),e=t(4800),T=t(29584),D=t(34138),A=t(6442),I=t(47767);const g={key:"origin",value:"reported"},a=()=>{(0,P.K)({event:T.Un.NFT_REPORTED_COLLECTIONS,props:null});const u=(0,I.Zp)(),{formatMessage:f}=(0,A.A)(),{reportedItems:R}=(0,D.a)();return R.length===0?(0,n.jsxs)(e.LN,{children:[(0,n.jsx)(e.zY,{title:f({id:"nft-reported-collections.hidden-collections"}),backAction:()=>u(`${C.b.DEFAULT}`)}),(0,n.jsx)(e.Gv,{children:(0,n.jsx)(v.w,{title:f({id:"nft-collection.nothing-hidden"}),testid:"no-nfts-hidden"})})]}):(0,n.jsxs)(e.LN,{children:[(0,n.jsx)(e.zY,{title:f({id:"nft-reported-collections.hidden-collections"}),backAction:()=>u(`${C.b.DEFAULT}`)}),(0,n.jsx)(e.Gv,{children:(0,n.jsx)(e.LO,{children:(0,n.jsx)(j.I,{collections:R,onClick:y=>{u(`${C.b.NFT_COLLECTIONS}/${y.id}?${g.key}=${g.value}`)},alwaysShowAllCollections:!0})})})]})}}),47569:((p,h,t)=>{t.r(h),t.d(h,{default:()=>k});var n=t(74848),j=t(68315),v=t(26264),C=t(95297),P=t(94893),e=t(68632),T=t(79830),D=t(52114),A=t(1279),I=t(67310);const g=({nfts:o,loadMoreItems:E,hasNextPage:s,onClick:i})=>{const l=window.innerHeight-38-16-16;return(0,n.jsx)(I.A,{dataLength:o.length,next:E,height:l,className:"tw-scrollbar",hasMore:!!s,loader:(0,n.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,n.jsx)(T.y,{size:e.Y.LARGE})}),children:(0,n.jsx)("div",{className:"grid grid-cols-3 gap-4",children:o.map((c,m)=>(0,n.jsx)(P.c,{onClick:()=>i(c.id),testid:"nft-collection-item",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"md:w-[7rem] md:h-[7rem] w-[6rem] h-[6rem]",children:(0,n.jsx)(C.J,{mainMedia:c.previewImageURL,fallbackMedia:c.originalMediaURL,name:c.name,asListItem:!0})}),(0,n.jsx)("div",{className:"md:w-[7rem] w-[6rem]",children:(0,n.jsx)(D.E,{type:A.jK.SUBTITLE,truncated:!0,children:c.name})})]})},m))})})};var B=t(55418),a=t(4800),u=t(64145),f=t(24439);const y={COLLECTION_NFTS_REQUESTED:(0,f.If)("CollectionNFTsRequested")};var W=t(65818),O=t(96540),$=t(94524),G=t(68157);const Y=o=>{const E=(0,G.GV)(l=>l.nft.nfts),s=(0,$.m)(),i=E[o];return(0,O.useMemo)(()=>{var l;return{total:(l=i?.items)!=null?l:[],reported:s.includes(o)}},[o,i,s])};var z=t(26113),Q=t(6442),K=t(47767),H=t(84976),L=t(40463),X=t(63369),Z=t(29584),V=t(98939),J=(o,E,s)=>new Promise((i,l)=>{var c=r=>{try{x(s.next(r))}catch(d){l(d)}},m=r=>{try{x(s.throw(r))}catch(d){l(d)}},x=r=>r.done?i(r.value):Promise.resolve(r.value).then(c,m);x((s=s.apply(o,E)).next())});const k=()=>{const o=(0,K.Zp)(),{formatMessage:E}=(0,Q.A)(),{collectionId:s}=(0,K.g)(),[i]=(0,H.ok)(),l=i.get("loadCachedItems"),c=i.get("initPage"),m=i.get(L.OriginParam.key),[x,r]=(0,O.useState)(!l),[d,w]=(0,O.useState)(c?parseInt(c):0),[U,b]=(0,O.useState)(!1);if(!s)throw new Error("Collection Id is missing.");const N=(0,W.Q)(s);if(!N)throw new Error(`Could not find collection for collectionId "${s}"`);const{total:S,reported:q}=Y(s);(0,X.K)({event:Z.Un.NFT_COLLECTION,props:{collectionName:N.name,reported:q}});const F=()=>o(m===L.OriginParam.value?v.b.NFT_REPORTED_COLLECTIONS:v.b.DEFAULT,m===L.OriginParam.value?void 0:{state:{activeTab:V.my.NFT}}),_=(0,O.useCallback)(M=>{o(`${v.b.NFT_COLLECTIONS}/${s}/nfts/${M}?initPage=${U?d+1:0}${m===L.OriginParam.value?`&${L.OriginParam.key}=${L.OriginParam.value}`:""}`)},[s,U,m,d,o]),tt=(0,O.useCallback)(()=>w(M=>M+1),[]);return(0,O.useEffect)(()=>{(!l||d>0)&&J(null,null,function*(){const{hasNextPage:M}=yield u.YW.emit(y.COLLECTION_NFTS_REQUESTED,{collectionId:s,page:d});b(M)}).catch(z.Z).finally(()=>r(!1))},[s,l,d]),x?(0,n.jsxs)(a.LN,{children:[(0,n.jsx)(a.zY,{backAction:F,title:N.name}),(0,n.jsx)(a.Gv,{children:(0,n.jsx)(B.o,{children:(0,n.jsx)("div",{children:(0,n.jsx)(T.y,{size:e.Y.XLARGE})})})})]}):S.length===0?(0,n.jsxs)(a.LN,{children:[(0,n.jsx)(a.zY,{backAction:F,title:N.name}),(0,n.jsx)(a.Gv,{children:(0,n.jsx)(j.w,{title:E({id:"nft-collection.nothing-bought"}),action:{label:E({id:"generic.receive"}),handler:()=>o(v.b.RECEIVE)}})})]}):(0,n.jsxs)(a.LN,{children:[(0,n.jsx)(a.zY,{title:N.name,backAction:F}),(0,n.jsx)(a.Gv,{children:(0,n.jsx)(g,{nfts:S,onClick:_,hasNextPage:U,loadMoreItems:tt})})]})}}),65818:((p,h,t)=>{t.d(h,{Q:()=>C});var n=t(96540),j=t.n(n),v=t(78023);const C=P=>{const e=(0,v.X)();return(0,n.useMemo)(()=>e.find(T=>T.id===P),[P,e])}})}]);
